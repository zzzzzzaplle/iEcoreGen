/**
 * generated by Enhanced EcoreGen
 */
package edu.academic;

import java.util.Collection;

import org.eclipse.emf.common.notify.Notification;

import org.eclipse.emf.common.util.EList;

import org.eclipse.emf.ecore.EClass;
import org.eclipse.emf.ecore.EObject;

import org.eclipse.emf.ecore.impl.ENotificationImpl;
import org.eclipse.emf.ecore.impl.MinimalEObjectImpl;

import org.eclipse.emf.ecore.util.EObjectResolvingEList;
import java.util.HashSet;
import java.util.Set;

/**
 * <!-- begin-user-doc -->
 * A representation of the model object '<em><b>Instructor</b></em>'.
 * <!-- end-user-doc -->
 *
 * <p>
 * The following features are supported:
 * </p>
 * <ul>
 *   <li>{@link edu.academic.Instructor#getName <em>Name</em>}</li>
 *   <li>{@link edu.academic.Instructor#getSurname <em>Surname</em>}</li>
 *   <li>{@link edu.academic.Instructor#getTitle <em>Title</em>}</li>
 *   <li>{@link edu.academic.Instructor#getSpecialty <em>Specialty</em>}</li>
 *   <li>{@link edu.academic.Instructor#getCourses <em>Courses</em>}</li>
 * </ul>
 *
 * @see edu.academic.AcademicPackage#getInstructor()
 * @model kind="class"
 * @generated
 */
public class Instructor extends MinimalEObjectImpl.Container implements EObject
{
  /**
   * The default value of the '{@link #getName() <em>Name</em>}' attribute.
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * @see #getName()
   * @generated
   * @ordered
   */
  protected static final String NAME_EDEFAULT = null;

  /**
   * The cached value of the '{@link #getName() <em>Name</em>}' attribute.
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * @see #getName()
   * @generated
   * @ordered
   */
  protected String name = NAME_EDEFAULT;

  /**
   * The default value of the '{@link #getSurname() <em>Surname</em>}' attribute.
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * @see #getSurname()
   * @generated
   * @ordered
   */
  protected static final String SURNAME_EDEFAULT = null;

  /**
   * The cached value of the '{@link #getSurname() <em>Surname</em>}' attribute.
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * @see #getSurname()
   * @generated
   * @ordered
   */
  protected String surname = SURNAME_EDEFAULT;

  /**
   * The default value of the '{@link #getTitle() <em>Title</em>}' attribute.
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * @see #getTitle()
   * @generated
   * @ordered
   */
  protected static final String TITLE_EDEFAULT = null;

  /**
   * The cached value of the '{@link #getTitle() <em>Title</em>}' attribute.
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * @see #getTitle()
   * @generated
   * @ordered
   */
  protected String title = TITLE_EDEFAULT;

  /**
   * The default value of the '{@link #getSpecialty() <em>Specialty</em>}' attribute.
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * @see #getSpecialty()
   * @generated
   * @ordered
   */
  protected static final String SPECIALTY_EDEFAULT = null;

  /**
   * The cached value of the '{@link #getSpecialty() <em>Specialty</em>}' attribute.
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * @see #getSpecialty()
   * @generated
   * @ordered
   */
  protected String specialty = SPECIALTY_EDEFAULT;

  /**
   * The cached value of the '{@link #getCourses() <em>Courses</em>}' reference list.
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * @see #getCourses()
   * @generated
   * @ordered
   */
  protected EList<Course> courses;

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * @generated
   */
  protected Instructor()
  {
    super();
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * @generated
   */
  @Override
  protected EClass eStaticClass()
  {
    return AcademicPackage.Literals.INSTRUCTOR;
  }

  /**
   * Returns the value of the '<em><b>Name</b></em>' attribute.
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * @return the value of the '<em>Name</em>' attribute.
   * @see #setName(String)
   * @see edu.academic.AcademicPackage#getInstructor_Name()
   * @model
   * @generated
   */
  public String getName()
  {
    return name;
  }

  /**
   * Sets the value of the '{@link edu.academic.Instructor#getName <em>Name</em>}' attribute.
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * @param newName the new value of the '<em>Name</em>' attribute.
   * @see #getName()
   * @generated
   */
  public void setName(String newName)
  {
    String oldName = name;
    name = newName;
    if (eNotificationRequired())
      eNotify(new ENotificationImpl(this, Notification.SET, AcademicPackage.INSTRUCTOR__NAME, oldName, name));
  }

  /**
   * Returns the value of the '<em><b>Surname</b></em>' attribute.
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * @return the value of the '<em>Surname</em>' attribute.
   * @see #setSurname(String)
   * @see edu.academic.AcademicPackage#getInstructor_Surname()
   * @model
   * @generated
   */
  public String getSurname()
  {
    return surname;
  }

  /**
   * Sets the value of the '{@link edu.academic.Instructor#getSurname <em>Surname</em>}' attribute.
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * @param newSurname the new value of the '<em>Surname</em>' attribute.
   * @see #getSurname()
   * @generated
   */
  public void setSurname(String newSurname)
  {
    String oldSurname = surname;
    surname = newSurname;
    if (eNotificationRequired())
      eNotify(new ENotificationImpl(this, Notification.SET, AcademicPackage.INSTRUCTOR__SURNAME, oldSurname, surname));
  }

  /**
   * Returns the value of the '<em><b>Title</b></em>' attribute.
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * @return the value of the '<em>Title</em>' attribute.
   * @see #setTitle(String)
   * @see edu.academic.AcademicPackage#getInstructor_Title()
   * @model
   * @generated
   */
  public String getTitle()
  {
    return title;
  }

  /**
   * Sets the value of the '{@link edu.academic.Instructor#getTitle <em>Title</em>}' attribute.
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * @param newTitle the new value of the '<em>Title</em>' attribute.
   * @see #getTitle()
   * @generated
   */
  public void setTitle(String newTitle)
  {
    String oldTitle = title;
    title = newTitle;
    if (eNotificationRequired())
      eNotify(new ENotificationImpl(this, Notification.SET, AcademicPackage.INSTRUCTOR__TITLE, oldTitle, title));
  }

  /**
   * Returns the value of the '<em><b>Specialty</b></em>' attribute.
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * @return the value of the '<em>Specialty</em>' attribute.
   * @see #setSpecialty(String)
   * @see edu.academic.AcademicPackage#getInstructor_Specialty()
   * @model
   * @generated
   */
  public String getSpecialty()
  {
    return specialty;
  }

  /**
   * Sets the value of the '{@link edu.academic.Instructor#getSpecialty <em>Specialty</em>}' attribute.
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * @param newSpecialty the new value of the '<em>Specialty</em>' attribute.
   * @see #getSpecialty()
   * @generated
   */
  public void setSpecialty(String newSpecialty)
  {
    String oldSpecialty = specialty;
    specialty = newSpecialty;
    if (eNotificationRequired())
      eNotify(new ENotificationImpl(this, Notification.SET, AcademicPackage.INSTRUCTOR__SPECIALTY, oldSpecialty, specialty));
  }

  /**
   * Returns the value of the '<em><b>Courses</b></em>' reference list.
   * The list contents are of type {@link edu.academic.Course}.
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * @return the value of the '<em>Courses</em>' reference list.
   * @see edu.academic.AcademicPackage#getInstructor_Courses()
   * @model
   * @generated
   */
  public EList<Course> getCourses()
  {
    if (courses == null)
    {
      courses = new EObjectResolvingEList<Course>(Course.class, this, AcademicPackage.INSTRUCTOR__COURSES);
    }
    return courses;
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary:
   *   Determines the total number of distinct students currently enrolled in any of the instructor's courses.
   * Algorithm:
   *   1. Create an empty Set<Student> uniqueStudents.
   *   2; For each Course c in this.courses:
   *        a. For each Enrollment e in c.enrollments:
   *              i. Add e.student to uniqueStudents.
   *   3. Return uniqueStudents.size().
   * Input:
   *   - (none)
   * Output:
   *   - int
   *       * Meaning: count of unique students across all courses taught by the instructor.
   *       * Range: ≥ 0.
   * Pre‑condition:
   *   - Courses and their enrollments are correctly initialised.
   * Post‑condition:
   *   - No state changes occur.
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated NOT
   */
  public int calculateTotalEnrolledStudents()
  {
    Set<Student> uniqueStudents = new HashSet<>();
    if (courses != null) {
      for (Course c : courses) {
        EList<Enrollment> enrollments = c.getEnrollments();
        if (enrollments != null) {
          for (Enrollment e : enrollments) {
            Student s = e.getStudent();
            if (s != null) {
              uniqueStudents.add(s);
            }
          }
        }
      }
    }
    return uniqueStudents.size();
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary:
   *   Calculates the sum of remaining enrollment slots across all courses taught by this instructor.
   * Algorithm:
   *   1. Initialise remaining = 0.
   *   2. For each Course c in this.courses:
   *        a. remaining += (c.quota - c.enrollments.size()).
   *        b. If (c.quota - c.enrollments.size()) < 0, treat as 0 (cannot have negative remaining slots).
   *   3. Return remaining.
   * Input:
   *   - (none)
   * Output:
   *   - int
   *       * Meaning: total number of free seats available in all courses of the instructor.
   *       * Range: ≥ 0.
   * Pre‑condition:
   *   - Instructor.courses is non‑null (may be empty).
   * Post‑condition:
   *   - No mutation of Instructor, Course, or Enrollment objects.
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated NOT
   */
  public int calculateRemainingQuota()
  {
    int remaining = 0;
    if (courses != null) {
      for (Course c : courses) {
        int quota = c.getQuota();
        EList<Enrollment> enrollments = c.getEnrollments();
        int enrolled = (enrollments == null) ? 0 : enrollments.size();
        int diff = quota - enrolled;
        if (diff > 0) {
          remaining += diff;
        }
      }
    }
    return remaining;
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * @generated
   */
  @Override
  public Object eGet(int featureID, boolean resolve, boolean coreType)
  {
    switch (featureID)
    {
      case AcademicPackage.INSTRUCTOR__NAME:
        return getName();
      case AcademicPackage.INSTRUCTOR__SURNAME:
        return getSurname();
      case AcademicPackage.INSTRUCTOR__TITLE:
        return getTitle();
      case AcademicPackage.INSTRUCTOR__SPECIALTY:
        return getSpecialty();
      case AcademicPackage.INSTRUCTOR__COURSES:
        return getCourses();
    }
    return super.eGet(featureID, resolve, coreType);
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * @generated
   */
  @SuppressWarnings("unchecked")
  @Override
  public void eSet(int featureID, Object newValue)
  {
    switch (featureID)
    {
      case AcademicPackage.INSTRUCTOR__NAME:
        setName((String)newValue);
        return;
      case AcademicPackage.INSTRUCTOR__SURNAME:
        setSurname((String)newValue);
        return;
      case AcademicPackage.INSTRUCTOR__TITLE:
        setTitle((String)newValue);
        return;
      case AcademicPackage.INSTRUCTOR__SPECIALTY:
        setSpecialty((String)newValue);
        return;
      case AcademicPackage.INSTRUCTOR__COURSES:
        getCourses().clear();
        getCourses().addAll((Collection<? extends Course>)newValue);
        return;
    }
    super.eSet(featureID, newValue);
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * @generated
   */
  @Override
  public void eUnset(int featureID)
  {
    switch (featureID)
    {
      case AcademicPackage.INSTRUCTOR__NAME:
        setName(NAME_EDEFAULT);
        return;
      case AcademicPackage.INSTRUCTOR__SURNAME:
        setSurname(SURNAME_EDEFAULT);
        return;
      case AcademicPackage.INSTRUCTOR__TITLE:
        setTitle(TITLE_EDEFAULT);
        return;
      case AcademicPackage.INSTRUCTOR__SPECIALTY:
        setSpecialty(SPECIALTY_EDEFAULT);
        return;
      case AcademicPackage.INSTRUCTOR__COURSES:
        getCourses().clear();
        return;
    }
    super.eUnset(featureID);
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * @generated
   */
  @Override
  public boolean eIsSet(int featureID)
  {
    switch (featureID)
    {
      case AcademicPackage.INSTRUCTOR__NAME:
        return NAME_EDEFAULT == null ? name != null : !NAME_EDEFAULT.equals(name);
      case AcademicPackage.INSTRUCTOR__SURNAME:
        return SURNAME_EDEFAULT == null ? surname != null : !SURNAME_EDEFAULT.equals(surname);
      case AcademicPackage.INSTRUCTOR__TITLE:
        return TITLE_EDEFAULT == null ? title != null : !TITLE_EDEFAULT.equals(title);
      case AcademicPackage.INSTRUCTOR__SPECIALTY:
        return SPECIALTY_EDEFAULT == null ? specialty != null : !SPECIALTY_EDEFAULT.equals(specialty);
      case AcademicPackage.INSTRUCTOR__COURSES:
        return courses != null && !courses.isEmpty();
    }
    return super.eIsSet(featureID);
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * @generated
   */
  @Override
  public String toString()
  {
    if (eIsProxy()) return super.toString();

    StringBuilder result = new StringBuilder(super.toString());
    result.append(" (name: ");
    result.append(name);
    result.append(", surname: ");
    result.append(surname);
    result.append(", title: ");
    result.append(title);
    result.append(", specialty: ");
    result.append(specialty);
    result.append(')');
    return result.toString();
  }

} // Instructor
