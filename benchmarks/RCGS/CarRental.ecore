<?xml version="1.0" encoding="utf8"?>
<ecore:EPackage xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" name="carrental" nsURI="http://www.example/carrental" nsPrefix="carrental">
  <eAnnotations source="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen">
    <details key="requirement" value="Store assistants should store the information for each car in the gallery, such as plate, model, and daily price. &#xA;When customers want to rent a car, the system must show available car records in the gallery and be sorted according to their prices. The system lists the rented car records when the store assistant person enters the related button. Store assistant searches for available cars, submit renting a car, and produces rental reports. The store assistant updates the rental list when he rents a car or takes back a car. The main office sends overdue notices due to late arrivals.&#xA; The store assistant records the customer's information, such as name, surname, address, plate of the rented car, and leasing terms.&#xA;Function Requirement:&#xA;+ Identify available cars in the store. A car is available if it is not currently rented. Return a list of available cars, sorted by daily price in ascending order. If no available cars exist, return an empty list.&#xA;&#xA;+ Calculate the total revenue generated by all rentals in the store.&#xA;&#xA;+ List customers with overdue rentals. For each rental, if the back date is null and the current date is past the due date (format: yyyy-MM-dd), mark it as overdue. Return an empty list if no overdue customers exist.&#xA;&#xA;+ Determine the average daily price of cars in the store: sum the daily prices of all cars and divide by the total number of cars. If the store has no cars, return 0.0.&#xA;&#xA;+ Count the number of cars rented per customer. Return a map of customers and their respective rental counts, or an empty map if no customers have rented cars."/>
  </eAnnotations>
  <eClassifiers xsi:type="ecore:EClass" name="Store">
    <eOperations name="identifyAvailableCars" upperBound="-1" eType="//Car">
      <eAnnotations source="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen">
        <details key="generated" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="body" value="// TODO: Please generate a body of this unimplemented method based on the docstring&#xD;&#xA;// TODO: Replace the current body with the generated body &#xD;&#xA;// TODO: Ensure that you mark it @generated NOT after code completion&#xD;&#xA;throw new UnsupportedOperationException();&#xD;&#xA;"/>
      </eAnnotations>
    </eOperations>
    <eOperations name="calculateTotalRevenue">
      <eAnnotations source="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen">
        <details key="generated" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="body" value="// TODO: Please generate a body of this unimplemented method based on the docstring&#xD;&#xA;// TODO: Replace the current body with the generated body &#xD;&#xA;// TODO: Ensure that you mark it @generated NOT after code completion&#xD;&#xA;throw new UnsupportedOperationException();&#xD;&#xA;"/>
      </eAnnotations>
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
    </eOperations>
    <eOperations name="findCustomersWithOverdueRentals" upperBound="-1" eType="//Customer">
      <eAnnotations source="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen">
        <details key="generated" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="body" value="// TODO: Please generate a body of this unimplemented method based on the docstring&#xD;&#xA;// TODO: Replace the current body with the generated body &#xD;&#xA;// TODO: Ensure that you mark it @generated NOT after code completion&#xD;&#xA;throw new UnsupportedOperationException();&#xD;&#xA;"/>
      </eAnnotations>
      <eParameters name="currentDate">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDate"/>
      </eParameters>
    </eOperations>
    <eOperations name="determineAverageDailyPrice">
      <eAnnotations source="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen">
        <details key="generated" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="body" value="// TODO: Please generate a body of this unimplemented method based on the docstring&#xD;&#xA;// TODO: Replace the current body with the generated body &#xD;&#xA;// TODO: Ensure that you mark it @generated NOT after code completion&#xD;&#xA;throw new UnsupportedOperationException();&#xD;&#xA;"/>
      </eAnnotations>
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
    </eOperations>
    <eOperations name="countCarsRentedPerCustomer" upperBound="-1">
      <eAnnotations source="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen">
        <details key="generated" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="body" value="// TODO: Please generate a body of this unimplemented method based on the docstring&#xD;&#xA;// TODO: Replace the current body with the generated body &#xD;&#xA;// TODO: Ensure that you mark it @generated NOT after code completion&#xD;&#xA;throw new UnsupportedOperationException();&#xD;&#xA;"/>
      </eAnnotations>
      <eGenericType>
        <eTypeArguments eClassifier="//Customer"/>
        <eTypeArguments>
          <eClassifier xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EIntegerObject"/>
        </eTypeArguments>
        <eClassifier xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EMap"/>
      </eGenericType>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="cars" upperBound="-1" eType="//Car" containment="true"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="rentals" upperBound="-1" eType="//Rental" containment="true"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="notices" upperBound="-1" eType="//OverdueNotice" containment="true"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Car">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="plate">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="model">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="dailyPrice">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Customer">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="surname">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="address">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="rentedCarPlate">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Rental">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="leasingTerms">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="totalPrice">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="rentalDate">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDate"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="dueDate">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDate"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="backDate">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDate"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="car" lowerBound="1" eType="//Car"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="customer" lowerBound="1" eType="//Customer"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="OverdueNotice">
    <eStructuralFeatures xsi:type="ecore:EReference" name="customer" lowerBound="1" eType="//Customer"/>
  </eClassifiers>
</ecore:EPackage>
