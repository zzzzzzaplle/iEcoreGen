<?xml version="1.0" encoding="utf8"?>
<ecore:EPackage xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" name="flights" nsURI="http://www.example.org/flights" nsPrefix="flights">
  <eAnnotations source="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen">
    <details key="requirement" value="Airlines offer different flights. Each flight has its unique id. A flight is open for booking and closed by order of the company. A customer can book one or more flights, for different passengers. A reservation concerns a single flight and a single passenger, has a unique id. A reservation can be confirmed or canceled. A flight has a departure airport and an arrival airport. Each airport has its unique id. A flight has a day and time of departure, and a day and time of arrival (e.g. 2024-12-08 13:00:00). A flight may include stopovers in one or more airport(s). A stopover has a departure time and an arrival time. Each airport serves one or more cities.&#xA;Functional requirement:&#xA;+ &quot;Publish a flight for booking&quot;. An airline can publish a newly created flight to make it available for customer bookings. The system first confirms that the flight has valid departure and arrival timestamps in yyyy-MM-dd HH:mm:ss format, then checks temporal consistency — currentTime &lt; departureTime &lt; arrivalTime — and route integrity — departureAirport ≠ arrivalAirport. A flight may be published only once, and its status must still be open for booking. The call returns true on success; otherwise, false.&#xA;&#xA;+ &quot;Create a booking for passengers on a flight&quot;. A customer selects a specific open flight and supplies a list of passengers names. The system checks that there are no duplicate passengers on the flight and the current time is before the flight departure time. It then generates a booking for the customer and creates a reservation with a unique ID for each passenger in that booking. Each reservation is initially placed in “pending” status until the customer confirms it. The call returns true on success; otherwise, false.&#xA;&#xA;+ &quot;Confirm or cancel an existing reservation in a booking&quot;. The system checks that the flight has not yet departed and is still open for booking. The customer can then confirm or cancel a reservation by providing its reservation ID. The call returns true on success; otherwise, false.&#xA;&#xA;+ &quot;Close an open flight&quot;. An airline can close an existing flight that has not yet departed. The system verifies that the flight is currently open; if so, it changes the status to closed and cancels every confirmed reservation. It returns true on success; otherwise, false.&#xA;&#xA;+ &quot;Retrieve all confirmed reservations for a specific flight&quot;. Given a flight ID, the system fetches every confirmed reservation on that flight, provided the flight is currently open for booking. It returns a list of reservations, or empty list if none exist.&#xA;&#xA;+ &quot;Add or delete a stopover on a flight&quot;. Before the flight departs, the system can add or delete stopovers on a flight, specifying each stop’s airport along with its arrival and departure times. The system ensures that the stopover times fit within the overall flight schedule and that the airports serve valid cities. The call returns true on success; otherwise, false."/>
  </eAnnotations>
  <eClassifiers xsi:type="ecore:EClass" name="City"/>
  <eClassifiers xsi:type="ecore:EEnum" name="ReservationStatus">
    <eLiterals name="PENDING"/>
    <eLiterals name="CONFIRMED" value="1"/>
    <eLiterals name="CANCELED" value="2"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Airport">
    <eOperations name="addCity">
      <eAnnotations source="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen">
        <details key="generated" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="body" value="// TODO: Please generate a body of this unimplemented method based on the docstring&#xD;&#xA;// TODO: Replace the current body with the generated body &#xD;&#xA;// TODO: Ensure that you mark it @generated NOT after code completion&#xD;&#xA;throw new UnsupportedOperationException();&#xD;&#xA;"/>
      </eAnnotations>
      <eParameters name="c" eType="//City"/>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="id">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="airport" lowerBound="1" eType="//Airport"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="servesForCities" lowerBound="1" upperBound="-1" eType="//City"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Passenger">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Stopover">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="departureTime">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDate"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="arrivalTime">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDate"/>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Flight">
    <eOperations name="addStopover">
      <eAnnotations source="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen">
        <details key="generated" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="body" value="// TODO: Please generate a body of this unimplemented method based on the docstring&#xD;&#xA;// TODO: Replace the current body with the generated body &#xD;&#xA;// TODO: Ensure that you mark it @generated NOT after code completion&#xD;&#xA;throw new UnsupportedOperationException();&#xD;&#xA;"/>
      </eAnnotations>
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="stop" eType="//Stopover"/>
      <eParameters name="now">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDate"/>
      </eParameters>
    </eOperations>
    <eOperations name="removeStopover">
      <eAnnotations source="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen">
        <details key="generated" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="body" value="// TODO: Please generate a body of this unimplemented method based on the docstring&#xD;&#xA;// TODO: Replace the current body with the generated body &#xD;&#xA;// TODO: Ensure that you mark it @generated NOT after code completion&#xD;&#xA;throw new UnsupportedOperationException();&#xD;&#xA;"/>
      </eAnnotations>
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="stop" eType="//Stopover"/>
      <eParameters name="now">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDate"/>
      </eParameters>
    </eOperations>
    <eOperations name="getConfirmedReservations" upperBound="-1" eType="//Reservation">
      <eAnnotations source="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen">
        <details key="generated" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="body" value="// TODO: Please generate a body of this unimplemented method based on the docstring&#xD;&#xA;// TODO: Replace the current body with the generated body &#xD;&#xA;// TODO: Ensure that you mark it @generated NOT after code completion&#xD;&#xA;throw new UnsupportedOperationException();&#xD;&#xA;"/>
      </eAnnotations>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="id">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="openForBooking">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="arrivalTime">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDate"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="departureTime">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDate"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="stopovers" upperBound="-1" eType="//Stopover"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="departureAirport" lowerBound="1" eType="//Airport"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="arrialAirport" lowerBound="1" eType="//Airport"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="reservations" upperBound="-1" eType="//Reservation" eOpposite="//Reservation/flight"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Reservation">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="id">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="status" eType="//ReservationStatus"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="passenger" lowerBound="1" eType="//Passenger"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="flight" lowerBound="1" eType="//Flight" eOpposite="//Flight/reservations"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Booking">
    <eOperations name="createReservation">
      <eAnnotations source="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen">
        <details key="generated" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="body" value="// TODO: Please generate a body of this unimplemented method based on the docstring&#xD;&#xA;// TODO: Replace the current body with the generated body &#xD;&#xA;// TODO: Ensure that you mark it @generated NOT after code completion&#xD;&#xA;throw new UnsupportedOperationException();&#xD;&#xA;"/>
      </eAnnotations>
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="f" eType="//Flight"/>
      <eParameters name="passenger">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
      <eParameters name="now">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDate"/>
      </eParameters>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="reservations" lowerBound="1" upperBound="-1" eType="//Reservation" containment="true"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="customer" lowerBound="1" eType="//Customer"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Customer">
    <eOperations name="addBooking">
      <eAnnotations source="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen">
        <details key="generated" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="body" value="// TODO: Please generate a body of this unimplemented method based on the docstring&#xD;&#xA;// TODO: Replace the current body with the generated body &#xD;&#xA;// TODO: Ensure that you mark it @generated NOT after code completion&#xD;&#xA;throw new UnsupportedOperationException();&#xD;&#xA;"/>
      </eAnnotations>
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="f" eType="//Flight"/>
      <eParameters name="now">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDate"/>
      </eParameters>
      <eParameters name="listOfPassengerNames" upperBound="-1">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
    </eOperations>
    <eOperations name="confirm">
      <eAnnotations source="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen">
        <details key="generated" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="body" value="// TODO: Please generate a body of this unimplemented method based on the docstring&#xD;&#xA;// TODO: Replace the current body with the generated body &#xD;&#xA;// TODO: Ensure that you mark it @generated NOT after code completion&#xD;&#xA;throw new UnsupportedOperationException();&#xD;&#xA;"/>
      </eAnnotations>
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="reservationID">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
      <eParameters name="now">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDate"/>
      </eParameters>
    </eOperations>
    <eOperations name="cancel">
      <eAnnotations source="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen">
        <details key="generated" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="body" value="// TODO: Please generate a body of this unimplemented method based on the docstring&#xD;&#xA;// TODO: Replace the current body with the generated body &#xD;&#xA;// TODO: Ensure that you mark it @generated NOT after code completion&#xD;&#xA;throw new UnsupportedOperationException();&#xD;&#xA;"/>
      </eAnnotations>
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="reservationID">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
      <eParameters name="now">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDate"/>
      </eParameters>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="bookings" upperBound="-1" eType="//Booking"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Airline">
    <eOperations name="addFlight">
      <eAnnotations source="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen">
        <details key="generated" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="body" value="// TODO: Please generate a body of this unimplemented method based on the docstring&#xD;&#xA;// TODO: Replace the current body with the generated body &#xD;&#xA;// TODO: Ensure that you mark it @generated NOT after code completion&#xD;&#xA;throw new UnsupportedOperationException();&#xD;&#xA;"/>
      </eAnnotations>
      <eParameters name="f" eType="//Flight"/>
    </eOperations>
    <eOperations name="removeFlight">
      <eAnnotations source="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen">
        <details key="generated" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="body" value="// TODO: Please generate a body of this unimplemented method based on the docstring&#xD;&#xA;// TODO: Replace the current body with the generated body &#xD;&#xA;// TODO: Ensure that you mark it @generated NOT after code completion&#xD;&#xA;throw new UnsupportedOperationException();&#xD;&#xA;"/>
      </eAnnotations>
      <eParameters name="f" eType="//Flight"/>
    </eOperations>
    <eOperations name="publishFlight">
      <eAnnotations source="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen">
        <details key="generated" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="body" value="// TODO: Please generate a body of this unimplemented method based on the docstring&#xD;&#xA;// TODO: Replace the current body with the generated body &#xD;&#xA;// TODO: Ensure that you mark it @generated NOT after code completion&#xD;&#xA;throw new UnsupportedOperationException();&#xD;&#xA;"/>
      </eAnnotations>
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="f" eType="//Flight"/>
      <eParameters name="now">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDate"/>
      </eParameters>
    </eOperations>
    <eOperations name="closeFlight">
      <eAnnotations source="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen">
        <details key="generated" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="body" value="// TODO: Please generate a body of this unimplemented method based on the docstring&#xD;&#xA;// TODO: Replace the current body with the generated body &#xD;&#xA;// TODO: Ensure that you mark it @generated NOT after code completion&#xD;&#xA;throw new UnsupportedOperationException();&#xD;&#xA;"/>
      </eAnnotations>
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="flightId">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
      <eParameters name="now">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDate"/>
      </eParameters>
    </eOperations>
    <eOperations name="searchFlights" upperBound="-1" eType="//Flight">
      <eAnnotations source="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen">
        <details key="generated" value="true"/>
      </eAnnotations>
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="body" value="// TODO: Please generate a body of this unimplemented method based on the docstring&#xD;&#xA;// TODO: Replace the current body with the generated body &#xD;&#xA;// TODO: Ensure that you mark it @generated NOT after code completion&#xD;&#xA;throw new UnsupportedOperationException();&#xD;&#xA;"/>
      </eAnnotations>
      <eParameters name="origin">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
      <eParameters name="date">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDate"/>
      </eParameters>
      <eParameters name="dest">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="flights" upperBound="-1" eType="//Flight"/>
  </eClassifiers>
</ecore:EPackage>
