    throw new UnsupportedOperationException();
    
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Removes an employee from the department
   * Algorithm:
   *   1. Check if employee exists in department
   *   2. If employee is manager, remove manager assignment
   *   3. Remove employee from department's working employees in all offices
   *   4. Remove department reference from employee
   *   5. Return true if successful, false if employee not found
   * Input:
   *   - employee: Employee object to be removed
   * Output:
   *   - boolean: true if employee was removed successfully, false if employee doesn't exist in department
   * Pre-condition: employee != null
   * Post-condition: Employee is removed from department and all associated office assignments
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated
   */
  public boolean deleteEmployee(final Employee employee)
  {
    // TODO: Please generate a body of this unimplemented method based on the docstring
    // TODO: Replace the current body with the generated body 
    // TODO: Ensure that you mark it @generated NOT after code completion
    throw new UnsupportedOperationException();
    
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Removes an office from the department
   * Algorithm:
   *   1. Check if office exists in department's offices list
   *   2. If office is headquarters, remove headquarters assignment
   *   3. Remove office from offices list
   *   4. Clear office's department reference
   *   5. Return true if successful, false if office not found
   * Input:
   *   - office: Office object to be removed
   * Output:
   *   - boolean: true if office was removed successfully, false if office doesn't exist in department
   * Pre-condition: office != null
   * Post-condition: Office is removed from department and headquarters reference is cleared if applicable
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated
   */
  public boolean deleteOffice(final Office office)
  {
    // TODO: Please generate a body of this unimplemented method based on the docstring
    // TODO: Replace the current body with the generated body 
    // TODO: Ensure that you mark it @generated NOT after code completion
    throw new UnsupportedOperationException();
    
  }

  @SuppressWarnings("unchecked")
  @Override
  public NotificationChain eInverseAdd(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public NotificationChain eInverseRemove(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public NotificationChain eBasicRemoveFromContainerFeature(NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public Object eGet(int featureID, boolean resolve, boolean coreType)
  { ... /* omitted */ }

  @SuppressWarnings("unchecked")
  @Override
  public void eSet(int featureID, Object newValue)
  { ... /* omitted */ }

  @Override
  public void eUnset(int featureID)
  { ... /* omitted */ }

  @Override
  public boolean eIsSet(int featureID)
  { ... /* omitted */ }

} // Department
```

# Context
The following classes' information may be helpful for you. **DO NOT** call methods that are not listed.
- Class `Employee` contains the following methods.
  + Instance creation: Use `DepartmentFactory.eINSTANCE.createEmployee()`
  + Getter methods: public String getName(), public String getEmail(), public String getID(), public String getNumber(), public Department getDepartment()
  + Setter methods: public void setName(String newName), public void setEmail(String newEmail), public void setID(String newID), public void setNumber(String newNumber), public void setDepartment(Department newDepartment)
- Class `Company` contains the following methods.
  + Instance creation: Use `DepartmentFactory.eINSTANCE.createCompany()`
  + Public methods: public boolean addDepartment(final Department department), public boolean addEmployee(final Employee employee), public boolean deleteDepartment(final Department department), public EList<Department> listDepartmentsWithoutManager(), public boolean assignManager(final Employee employee, final Department department)
  + Getter methods: public EList<Department> getDepartments(), public EList<Employee> getEmployees()
  + Setter methods: 
- Class `Office` contains the following methods.
  + Instance creation: Can only be used as an abstract type
  + Getter methods: public String getTitle(), public String getDescription(), public double getBudget(), public Date getDeadline(), public Department getDepartment(), public EList<Employee> getWorkingEmployees()
  + Setter methods: public void setTitle(String newTitle), public void setDescription(String newDescription), public void setBudget(double newBudget), public void setDeadline(Date newDeadline), public void setDepartment(Department newDepartment)

# Output Format
Put the new Java class code into a single block as follows.

```java
(completed Java class)
```

generated code:
/**
 * generated by Enhanced EcoreGen
 */
package edu.department;

import java.util.Collection;

import org.eclipse.emf.common.notify.Notification;
import org.eclipse.emf.common.notify.NotificationChain;

import org.eclipse.emf.common.util.EList;

import org.eclipse.emf.ecore.EClass;
import org.eclipse.emf.ecore.EObject;
import org.eclipse.emf.ecore.InternalEObject;

import org.eclipse.emf.ecore.impl.ENotificationImpl;
import org.eclipse.emf.ecore.impl.MinimalEObjectImpl;

import org.eclipse.emf.ecore.util.EObjectContainmentWithInverseEList;
import org.eclipse.emf.ecore.util.EcoreUtil;
import org.eclipse.emf.ecore.util.InternalEList;

/**
 * <!-- begin-user-doc -->
 * A representation of the model object '<em><b>Department</b></em>'.
 * <!-- end-user-doc -->
 *
 * <p>
 * The following features are supported:
 * </p>
 * <ul>
 *   <li>{@link edu.department.Department#getManager <em>Manager</em>}</li>
 *   <li>{@link edu.department.Department#getCompany <em>Company</em>}</li>
 *   <li>{@link edu.department.Department#getOffices <em>Offices</em>}</li>
 *   <li>{@link edu.department.Department#getHeadquarter <em>Headquarter</em>}</li>
 * </ul>
 *
 * @see edu.department.DepartmentPackage#getDepartment()
 * @model kind="class"
 * @generated
 */
public class Department extends MinimalEObjectImpl.Container implements EObject
{
  protected Employee manager;

  protected EList<Office> offices;

  protected Office headquarter;

  protected Department()
  { ... /* omitted */ }

  @Override
  protected EClass eStaticClass()
  { ... /* omitted */ }

  public Employee getManager()
  { ... /* omitted */ }

  public Employee basicGetManager()
  { ... /* omitted */ }

  public NotificationChain basicSetManager(Employee newManager, NotificationChain msgs)
  { ... /* omitted */ }

  public void setManager(Employee newManager)
  { ... /* omitted */ }

  public Company getCompany()
  { ... /* omitted */ }

  public NotificationChain basicSetCompany(Company newCompany, NotificationChain msgs)
  { ... /* omitted */ }

  public void setCompany(Company newCompany)
  { ... /* omitted */ }

  public EList<Office> getOffices()
  { ... /* omitted */ }

  public Office getHeadquarter()
  { ... /* omitted */ }

  public Office basicGetHeadquarter()
  { ... /* omitted */ }

  public void setHeadquarter(Office newHeadquarter)
  { ... /* omitted */ }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Assigns an office as headquarters for the department
   * Algorithm:
   *   1. Check if office exists in department's offices list
   *   2. Check if department already has a headquarters
   *   3. If office exists and no current headquarters, set headquarter = office
   *   4. Return true if successful, false otherwise
   * Input:
   *   - office: Office object to be assigned as headquarters
   * Output:
   *   - boolean: true if assignment successful, false if office not in department or headquarters already exists
   * Pre-condition: office != null
   * Post-condition: If successful, headquarter == office
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated NOT
   */
  public boolean assignOfficeAsHeadquarter(final Office office)
  {
    if (office == null) {
      return false;
    }
    
    if (!getOffices().contains(office)) {
      return false;
    }
    
    if (getHeadquarter() != null) {
      return false;
    }
    
    setHeadquarter(office);
    return true;
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Checks if the department has a manager assigned
   * Algorithm:
   *   1. Return true if manager != null, false otherwise
   * Input: None
   * Output:
   *   - boolean: true if manager is assigned, false otherwise
   * Pre-condition: None
   * Post-condition: None
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated NOT
   */
  public boolean hasManager()
  {
    return getManager() != null;
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Removes an employee from the department
   * Algorithm:
   *   1. Check if employee exists in department
   *   2. If employee is manager, remove manager assignment
   *   3. Remove employee from department's working employees in all offices
   *   4. Remove department reference from employee
   *   5. Return true if successful, false if employee not found
   * Input:
   *   - employee: Employee object to be removed
   * Output:
   *   - boolean: true if employee was removed successfully, false if employee doesn't exist in department
   * Pre-condition: employee != null
   * Post-condition: Employee is removed from department and all associated office assignments
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated NOT
   */
  public boolean deleteEmployee(final Employee employee)
  {
    if (employee == null) {
      return false;
    }
    
    // Check if employee belongs to this department
    if (employee.getDepartment() != this) {
      return false;
    }
    
    // If employee is manager, remove manager assignment
    if (employee == getManager()) {
      setManager(null);
    }
    
    // Remove employee from all offices in this department
    for (Office office : getOffices()) {
      office.getWorkingEmployees().remove(employee);
    }
    
    // Remove department reference from employee
    employee.setDepartment(null);
    
    return true;
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Removes an office from the department
   * Algorithm:
   *   1. Check if office exists in department's offices list
   *   2. If office is headquarters, remove headquarters assignment
   *   3. Remove office from offices list
   *   4. Clear office's department reference
   *   5. Return true if successful, false if office not found
   * Input:
   *   - office: Office object to be removed
   * Output:
   *   - boolean: true if office was removed successfully, false if office doesn't exist in department
   * Pre-condition: office != null
   * Post-condition: Office is removed from department and headquarters reference is cleared if applicable
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated NOT
   */
  public boolean deleteOffice(final Office office)
  {
    if (office == null) {
      return false;
    }
    
    if (!getOffices().contains(office)) {
      return false;
    }
    
    // If office is headquarters, remove headquarters assignment
    if (office == getHeadquarter()) {
      setHeadquarter(null);
    }
    
    // Remove office from offices list
    getOffices().remove(office);
    
    // Clear office's department reference
    office.setDepartment(null);
    
    return true;
  }

  @SuppressWarnings("unchecked")
  @Override
  public NotificationChain eInverseAdd(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public NotificationChain eInverseRemove(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public NotificationChain eBasicRemoveFromContainerFeature(NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public Object eGet(int featureID, boolean resolve, boolean coreType)
  { ... /* omitted */ }

  @SuppressWarnings("unchecked")
  @Override
  public void eSet(int featureID, Object newValue)
  { ... /* omitted */ }

  @Override
  public void eUnset(int featureID)
  { ... /* omitted */ }

  @Override
  public boolean eIsSet(int featureID)
  { ... /* omitted */ }

} // Department
996078 [main] INFO  du.ustb.sei.mde.mwe2.EcoreGenerator  - BatchCompiler -11 -d ../Departments/src-gen/../llm-bin -classpath "C:/Users/20936/.p2/pool/plugins/org.eclipse.emf.ecore_2.40.0.v20250803-1633.jar;C:/Users/20936/.p2/pool/plugins/org.eclipse.emf.common_2.43.0.v20250629-1403.jar" ../Departments/src-gen/edu/department/
996380 [main] INFO  du.ustb.sei.mde.mwe2.EcoreGenerator  - 
996380 [main] ERROR du.ustb.sei.mde.mwe2.EcoreGenerator  - ----------
1. ERROR in D:\EclipseWorkspace\Departments\src-gen\edu\department\Company.java (at line 265)
	EList<Department> result = new BasicEList<Department>();
	                               ^^^^^^^^^^
BasicEList cannot be resolved to a type
----------
2. ERROR in D:\EclipseWorkspace\Departments\src-gen\edu\department\Company.java (at line 316)
	return department.assignManager(employee);
	                  ^^^^^^^^^^^^^
The method assignManager(Employee) is undefined for the type Department
----------
2 problems (2 errors)

996380 [main] ERROR du.ustb.sei.mde.mwe2.EcoreGenerator  - File: D:\EclipseWorkspace\Departments\src-gen\edu\department\Company.java
Line: 265
Type: ERROR
Message: BasicEList cannot be resolved to a type
Code line: 	EList<Department> result = new BasicEList<Department>();
Caret Pos: 	                               ^^^^^^^^^^

996380 [main] ERROR du.ustb.sei.mde.mwe2.EcoreGenerator  - File: D:\EclipseWorkspace\Departments\src-gen\edu\department\Company.java
Line: 316
Type: ERROR
Message: The method assignManager(Employee) is undefined for the type Department
Code line: 	return department.assignManager(employee);
Caret Pos: 	                  ^^^^^^^^^^^^^

# Task
You will be given a **Java Class** that is originally generated by EMF code generator with `suppressInterfaces=true` and later is completed by LLMs. Your task is to fix the **Compilation Errors** by taking additional **Context** information into account.

Complete this task by following the guidelines below.
1. Read the error messages carefully.
2. Do your best to fix the errors locally without introducing new types, fields, and methods.
3. You should not remove faulty methods to eliminate compilation errors.
4. Do not change parts without errors.

# Java Class
```java
/**
 * generated by Enhanced EcoreGen
 */
package edu.department;

import java.util.Collection;

import org.eclipse.emf.common.notify.NotificationChain;

import org.eclipse.emf.common.util.EList;

import org.eclipse.emf.ecore.EClass;
import org.eclipse.emf.ecore.EObject;
import org.eclipse.emf.ecore.InternalEObject;

import org.eclipse.emf.ecore.impl.MinimalEObjectImpl;

import org.eclipse.emf.ecore.util.EObjectContainmentEList;
import org.eclipse.emf.ecore.util.EObjectContainmentWithInverseEList;
import org.eclipse.emf.ecore.util.InternalEList;

/**
 * <!-- begin-user-doc -->
 * A representation of the model object '<em><b>Company</b></em>'.
 * <!-- end-user-doc -->
 *
 * <p>
 * The following features are supported:
 * </p>
 * <ul>
 *   <li>{@link edu.department.Company#getDepartments <em>Departments</em>}</li>
 *   <li>{@link edu.department.Company#getEmployees <em>Employees</em>}</li>
 * </ul>
 *
 * @see edu.department.DepartmentPackage#getCompany()
 * @model kind="class"
 * @generated
 */
public class Company extends MinimalEObjectImpl.Container implements EObject
{
  protected EList<Department> departments;

  protected EList<Employee> employees;

  protected Company()
  { ... /* omitted */ }

  @Override
  protected EClass eStaticClass()
  { ... /* omitted */ }

  public EList<Department> getDepartments()
  { ... /* omitted */ }

  public EList<Employee> getEmployees()
  { ... /* omitted */ }

  public boolean addDepartment(final Department department)
  { ... /* omitted */ }

  public boolean addEmployee(final Employee employee)
  { ... /* omitted */ }

  public boolean deleteDepartment(final Department department)
  { ... /* omitted */ }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Returns list of departments without assigned managers
   * Algorithm:
   *   1. Create empty result list
   *   2. Iterate through all departments in company
   *   3. For each department, check if hasManager() returns false
   *   4. Add departments without managers to result list
   *   5. Return result list (or null if result list is empty)
   * Input: None
   * Output:
   *   - List<Department>: List of departments without managers, or null if all departments have managers
   * Pre-condition: None
   * Post-condition: Returned list contains all departments without managers in the company
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated NOT
   */
  public EList<Department> listDepartmentsWithoutManager()
  {
    EList<Department> result = new BasicEList<Department>();
    
    for (Department department : getDepartments()) {
      if (!department.hasManager()) {
        result.add(department);
      }
    }
    
    return result.isEmpty() ? null : result;
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Assigns an employee as manager of a specified department
   * Algorithm:
   *   1. Check if employee exists in company's employees list
   *   2. Check if department exists in company's departments list
   *   3. Check if department already has a manager
   *   4. If all checks pass, call department.assignManager(employee)
   *   5. Return true if successful, false otherwise
   * Input:
   *   - employee: Employee object to be assigned as manager
   *   - department: Department object where manager will be assigned
   * Output:
   *   - boolean: true if assignment successful, false if employee/department not found or department already has manager
   * Pre-condition: employee != null, department != null
   * Post-condition: If successful, department.manager == employee and employee.department == department
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated NOT
   */
  public boolean assignManager(final Employee employee, final Department department)
  {
    if (employee == null || department == null) {
      return false;
    }
    
    if (!getEmployees().contains(employee)) {
      return false;
    }
    
    if (!getDepartments().contains(department)) {
      return false;
    }
    
    if (department.hasManager()) {
      return false;
    }
    
    return department.assignManager(employee);
  }

  @SuppressWarnings("unchecked")
  @Override
  public NotificationChain eInverseAdd(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public NotificationChain eInverseRemove(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public Object eGet(int featureID, boolean resolve, boolean coreType)
  { ... /* omitted */ }

  @SuppressWarnings("unchecked")
  @Override
  public void eSet(int featureID, Object newValue)
  { ... /* omitted */ }

  @Override
  public void eUnset(int featureID)
  { ... /* omitted */ }

  @Override
  public boolean eIsSet(int featureID)
  { ... /* omitted */ }

} // Company
```

# Compilation Errors
```
- ERROR: BasicEList cannot be resolved to a type
	EList<Department> result = new BasicEList<Department>();
	                               ^^^^^^^^^^

- ERROR: The method assignManager(Employee) is undefined for the type Department
	return department.assignManager(employee);
	                  ^^^^^^^^^^^^^
```

# Context
The following classes' information may be helpful for you. **DO NOT** call methods that are not listed.
- Class `Department` contains the following methods.
  + Instance creation: Use `DepartmentFactory.eINSTANCE.createDepartment()`
  + Public methods: public boolean assignOfficeAsHeadquarter(final Office office), public boolean hasManager(), public boolean deleteEmployee(final Employee employee), public boolean deleteOffice(final Office office)
  + Getter methods: public Employee getManager(), public Company getCompany(), public EList<Office> getOffices(), public Office getHeadquarter()
  + Setter methods: public void setManager(Employee newManager), public void setCompany(Company newCompany), public void setHeadquarter(Office newHeadquarter)
- Class `Employee` contains the following methods.
  + Instance creation: Use `DepartmentFactory.eINSTANCE.createEmployee()`
  + Getter methods: public String getName(), public String getEmail(), public String getID(), public String getNumber(), public Department getDepartment()
  + Setter methods: public void setName(String newName), public void setEmail(String newEmail), public void setID(String newID), public void setNumber(String newNumber), public void setDepartment(Department newDepartment)

# Output Format
Just put the Java class you fixed into a single block as follows.

```result
(fixed Java class)
```

fixed code:
/**
 * generated by Enhanced EcoreGen
 */
package edu.department;

import java.util.Collection;

import org.eclipse.emf.common.notify.NotificationChain;

import org.eclipse.emf.common.util.EList;

import org.eclipse.emf.ecore.EClass;
import org.eclipse.emf.ecore.EObject;
import org.eclipse.emf.ecore.InternalEObject;

import org.eclipse.emf.ecore.impl.MinimalEObjectImpl;

import org.eclipse.emf.ecore.util.EObjectContainmentEList;
import org.eclipse.emf.ecore.util.EObjectContainmentWithInverseEList;
import org.eclipse.emf.ecore.util.InternalEList;

/**
 * <!-- begin-user-doc -->
 * A representation of the model object '<em><b>Company</b></em>'.
 * <!-- end-user-doc -->
 *
 * <p>
 * The following features are supported:
 * </p>
 * <ul>
 *   <li>{@link edu.department.Company#getDepartments <em>Departments</em>}</li>
 *   <li>{@link edu.department.Company#getEmployees <em>Employees</em>}</li>
 * </ul>
 *
 * @see edu.department.DepartmentPackage#getCompany()
 * @model kind="class"
 * @generated
 */
public class Company extends MinimalEObjectImpl.Container implements EObject
{
  protected EList<Department> departments;

  protected EList<Employee> employees;

  protected Company()
  { ... /* omitted */ }

  @Override
  protected EClass eStaticClass()
  { ... /* omitted */ }

  public EList<Department> getDepartments()
  { ... /* omitted */ }

  public EList<Employee> getEmployees()
  { ... /* omitted */ }

  public boolean addDepartment(final Department department)
  { ... /* omitted */ }

  public boolean addEmployee(final Employee employee)
  { ... /* omitted */ }

  public boolean deleteDepartment(final Department department)
  { ... /* omitted */ }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Returns list of departments without assigned managers
   * Algorithm:
   *   1. Create empty result list
   *   2. Iterate through all departments in company
   *   3. For each department, check if hasManager() returns false
   *   4. Add departments without managers to result list
   *   5. Return result list (or null if result list is empty)
   * Input: None
   * Output:
   *   - List<Department>: List of departments without managers, or null if all departments have managers
   * Pre-condition: None
   * Post-condition: Returned list contains all departments without managers in the company
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated NOT
   */
  public EList<Department> listDepartmentsWithoutManager()
  {
    EList<Department> result = new org.eclipse.emf.common.util.BasicEList<Department>();
    
    for (Department department : getDepartments()) {
      if (!department.hasManager()) {
        result.add(department);
      }
    }
    
    return result.isEmpty() ? null : result;
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Assigns an employee as manager of a specified department
   * Algorithm:
   *   1. Check if employee exists in company's employees list
   *   2. Check if department exists in company's departments list
   *   3. Check if department already has a manager
   *   4. If all checks pass, call department.assignManager(employee)
   *   5. Return true if successful, false otherwise
   * Input:
   *   - employee: Employee object to be assigned as manager
   *   - department: Department object where manager will be assigned
   * Output:
   *   - boolean: true if assignment successful, false if employee/department not found or department already has manager
   * Pre-condition: employee != null, department != null
   * Post-condition: If successful, department.manager == employee and employee.department == department
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated NOT
   */
  public boolean assignManager(final Employee employee, final Department department)
  {
    if (employee == null || department == null) {
      return false;
    }
    
    if (!getEmployees().contains(employee)) {
      return false;
    }
    
    if (!getDepartments().contains(department)) {
      return false;
    }
    
    if (department.hasManager()) {
      return false;
    }
    
    department.setManager(employee);
    return true;
  }

  @SuppressWarnings("unchecked")
  @Override
  public NotificationChain eInverseAdd(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public NotificationChain eInverseRemove(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public Object eGet(int featureID, boolean resolve, boolean coreType)
  { ... /* omitted */ }

  @SuppressWarnings("unchecked")
  @Override
  public void eSet(int featureID, Object newValue)
  { ... /* omitted */ }

  @Override
  public void eUnset(int featureID)
  { ... /* omitted */ }

  @Override
  public boolean eIsSet(int featureID)
  { ... /* omitted */ }

} // Company
1067712 [main] INFO  du.ustb.sei.mde.mwe2.EcoreGenerator  - BatchCompiler -11 -d ../Departments/src-gen/../llm-bin -classpath "C:/Users/20936/.p2/pool/plugins/org.eclipse.emf.ecore_2.40.0.v20250803-1633.jar;C:/Users/20936/.p2/pool/plugins/org.eclipse.emf.common_2.43.0.v20250629-1403.jar" ../Departments/src-gen/edu/department/
1067819 [main] INFO  du.ustb.sei.mde.mwe2.EcoreGenerator  - 
1067819 [main] ERROR du.ustb.sei.mde.mwe2.EcoreGenerator  - 
1067819 [main] INFO  du.ustb.sei.mde.mwe2.EcoreGenerator  - There is more compilation error
1067819 [main] INFO  du.ustb.sei.mde.mwe2.EcoreGenerator  - Generating common infrastructure
1067820 [main] INFO  .emf.mwe2.runtime.workflow.Workflow  - Done.
sample4.mwe2 启动完成
正在拷贝 src-gen/edu/department 到 deepseek-v3.2-exp/department4...
拷贝完成！

======================================
正在启动 sample5.mwe2...
======================================
1068027 [main] INFO  du.ustb.sei.mde.mwe2.EcoreGenerator  - Initializing Xtext generator
1068091 [main] INFO  lipse.emf.mwe.utils.StandaloneSetup  - Registering project Departments at 'file:/D:/EclipseWorkspace/Departments/'
1068094 [main] INFO  lipse.emf.mwe.utils.StandaloneSetup  - Using resourceSet registry. The registered Packages will not be registered in the global EPackage.Registry.INSTANCE!
1068117 [main] INFO  du.ustb.sei.mde.mwe2.EcoreGenerator  - Generating edu.ustb.sei.mde.mwe2.EcoreLanguage@5dd1526e
1068117 [main] INFO  .sei.mde.mwe2.EMFGeneratorFragment2  - Enhancing Ecore model
1068119 [main] INFO  du.ustb.sei.mde.mwe2.EcoreGenerator  - Annotating EOperations
1068120 [main] INFO  du.ustb.sei.mde.mwe2.EcoreGenerator  - # Task
You will be given a **Requirement** and a **Class Diagram** in PlantUML. Your task is to annotate every operation in the class diagram with a specfication.

An operation specification must describe the following sections about the operation:
1. Summary: the summary of functionality;
2. Algorithm: The algorithm or pesudo code;
3. Input: the input parameters, including the meaning, the format, and the value ranges if necessary;
4. Output: output value, including the meaning, the format, and the value ranges if necessary
4. Pre-condition and Post-condition: the pre-/post-conditions if necessary.

Finish this task by following the guidelines below.
1. Take the principle of modularization into account.
2. For each operation, determine its functional boundary based on the given requirement. Ensure high cohesion and low coupling.
3. If there is any unspecified details, such as undefined constants, rates, and ratios, then you must infer them.
4. Make sure that all requirements can be covered.

# Requirement
```text
A company consists of departments. Departments are located in one or more offices. One office acts as a headquarter. Each department has a manager who is recruited from the set of employees.
functional requirement：
+ Assign an office as headquarters for a department. The office must belong to the department. Returns true if successful, false if the office doesn't exist in the department or if the department already has a headquarters.

+ Assign an employee as manager of a specified department. The employee and the department must belong to the company. Returns true if successful, false if the department already has a manager or the employee doesn't exist in the company.

+ Delete a department: Remove the department and its offices (including headquarters), and then remove employees (including managers) from the company. Returns true if successful, false if the department doesn't exist.

+ Verify whether a department has a manager assigned: Check if a specified department has a manager assigned (returns true/false).

+ List the departments of the company that have not been assigned a manager. If all departments have already been assigned a manager, return null.
```

# Class Diagram
```plantuml
@startuml

title department Model

class Company {
    departments : List<Department>
    employees : List<Employee>
    addDepartment(department : Department) : boolean
    addEmployee(employee : Employee) : boolean
    assignManager(employee : Employee, department : Department) : boolean
    deleteDepartment(department : Department) : boolean
    listDepartmentsWithoutManager() : List<Department>
}
class Department {
    company : Company
    headquarter : Office
    manager : Employee
    offices : List<Office>
    assignOfficeAsHeadquarter(office : Office) : boolean
    deleteEmployee(employee : Employee) : boolean
    deleteOffice(office : Office) : boolean
    hasManager() : boolean
}
class Employee {
    ID : String
    email : String
    name : String
    number : String
    department : Department
}
abstract class Office {
    budget : double
    deadline : EDate
    description : String
    title : String
    department : Department
    workingEmployees : List<Employee>
}

Company *-- "*" Department : departments  'opposite: company
Company *-- "*" Employee : employees
Department --> Company : company  'opposite: departments
Department --> Office : headquarter
Department --> Employee : manager  'opposite: department
Department *-- "*" Office : offices  'opposite: department
Employee --> Department : department  'opposite: manager
Office --> Department : department  'opposite: offices
Office --> "*" Employee : workingEmployees
@enduml
```

# Output Format
Put all your results in a single block as illustrated below:

```result

class_1::operation_1
/*
 * your description for operation_1
 */

class_1::operation_2
/*
 * your description for this operation_2
 */

...
```

1132087 [main] INFO  du.ustb.sei.mde.mwe2.EcoreGenerator  - {org.eclipse.emf.ecore.impl.EOperationImpl@5225e766 (name: addDepartment) (ordered: true, unique: true, lowerBound: 0, upperBound: 1)=Summary: Adds a new department to the company
Algorithm: 
  IF department is not null AND department not already in departments list:
    Add department to departments list
    Return true
  ELSE:
    Return false
Input: 
  department: Department object to be added
Output: 
  boolean: true if department added successfully, false otherwise
Pre-condition: department must not be null
Post-condition: departments list contains the new department if operation successful, org.eclipse.emf.ecore.impl.EOperationImpl@4501e484 (name: addEmployee) (ordered: true, unique: true, lowerBound: 0, upperBound: 1)=Summary: Adds a new employee to the company
Algorithm:
  IF employee is not null AND employee not already in employees list:
    Add employee to employees list
    Return true
  ELSE:
    Return false
Input:
  employee: Employee object to be added
Output:
  boolean: true if employee added successfully, false otherwise
Pre-condition: employee must not be null
Post-condition: employees list contains the new employee if operation successful, org.eclipse.emf.ecore.impl.EOperationImpl@1572b7e4 (name: deleteEmployee) (ordered: true, unique: true, lowerBound: 0, upperBound: 1)=Summary: Removes an employee from the department
Algorithm:
  IF employee is null OR employee not in department:
    Return false
  ELSE:
    Remove employee from department
    IF employee is manager of department:
      Set department.manager = null
    Remove employee from all office.workingEmployees lists
    Return true
Input:
  employee: Employee object to be removed
Output:
  boolean: true if employee removal successful, false otherwise
Pre-condition: Employee must exist in the department
Post-condition: Employee is removed from department and all associations, org.eclipse.emf.ecore.impl.EOperationImpl@75c1c32b (name: listDepartmentsWithoutManager) (ordered: true, unique: true, lowerBound: 0, upperBound: -1)=Summary: Returns list of departments without assigned managers
Algorithm:
  Initialize empty result list
  FOR each department in departments:
    IF department.hasManager() returns false:
      Add department to result list
  IF result list is empty:
    Return null
  ELSE:
    Return result list
Input: None
Output:
  List<Department>: List of departments without managers, or null if all have managers
Pre-condition: None
Post-condition: Return value accurately reflects current state of departments, org.eclipse.emf.ecore.impl.EOperationImpl@763772bd (name: hasManager) (ordered: true, unique: true, lowerBound: 0, upperBound: 1)=Summary: Checks if the department has a manager assigned
Algorithm:
  Return department.manager != null
Input: None
Output:
  boolean: true if manager is assigned, false otherwise
Pre-condition: None
Post-condition: Return value accurately reflects current state of department manager, org.eclipse.emf.ecore.impl.EOperationImpl@d9420bf (name: deleteOffice) (ordered: true, unique: true, lowerBound: 0, upperBound: 1)=Summary: Removes an office from the department
Algorithm:
  IF office is null OR office not in department.offices:
    Return false
  ELSE:
    Remove office from department.offices
    IF office is department.headquarter:
      Set department.headquarter = null
    Remove all employees from office.workingEmployees
    Return true
Input:
  office: Office object to be removed
Output:
  boolean: true if office removal successful, false otherwise
Pre-condition: Office must exist in the department
Post-condition: Office is removed from department and all associations, org.eclipse.emf.ecore.impl.EOperationImpl@8a20b8e (name: deleteDepartment) (ordered: true, unique: true, lowerBound: 0, upperBound: 1)=Summary: Removes a department and all its associated offices and employees
Algorithm:
  IF department is null OR department not in departments list:
    Return false
  ELSE:
    Remove all offices from department.offices
    Remove all employees from department (including manager)
    Remove department from company.departments
    Return true
Input:
  department: Department object to be deleted
Output:
  boolean: true if department deletion successful, false otherwise
Pre-condition: department must exist in the company
Post-condition: Department and all its associations are removed from the company, org.eclipse.emf.ecore.impl.EOperationImpl@3fae2cd3 (name: assignOfficeAsHeadquarter) (ordered: true, unique: true, lowerBound: 0, upperBound: 1)=Summary: Assigns an office as headquarters for the department
Algorithm:
  IF office is null:
    Return false
  IF office not in department.offices:
    Return false
  IF department.headquarter is already set:
    Return false
  ELSE:
    Set department.headquarter = office
    Return true
Input:
  office: Office object to be assigned as headquarters
Output:
  boolean: true if headquarters assignment successful, false otherwise
Pre-condition: Office must belong to the department and department must not already have headquarters
Post-condition: Department has the specified office as headquarters if operation successful, org.eclipse.emf.ecore.impl.EOperationImpl@1727aa28 (name: assignManager) (ordered: true, unique: true, lowerBound: 0, upperBound: 1)=Summary: Assigns an employee as manager of a specified department
Algorithm:
  IF employee is null OR department is null:
    Return false
  IF employee not in company's employees list:
    Return false
  IF department not in company's departments list:
    Return false
  IF department already has a manager:
    Return false
  ELSE:
    Set department.manager = employee
    Set employee.department = department
    Return true
Input:
  employee: Employee object to be assigned as manager
  department: Department object where manager will be assigned
Output:
  boolean: true if manager assignment successful, false otherwise
Pre-condition: Both employee and department must exist in the company
Post-condition: Department has the specified employee as manager if operation successful}
1132089 [main] INFO  .sei.mde.mwe2.EMFGeneratorFragment2  - Generating EMF model code
1132109 [main] INFO  .sei.mde.mwe2.EMFGeneratorFragment2  - Enhancing generated code at ../Departments/src-gen/edu/department
# Task
You will be given a **Java Class** generated from an Ecore model by EMF code generator with `suppressInterfaces=true`. Your task is to implement the Java methods unimplemented by taking additional **Context** information into account.

Complete this task by following the guidelines below.
1. A method is unimplemented if its body contains `// TODO: Please complete this Java method based on the docstring`.
2. For every unimplemented method, 
  2.1 You must read the docstring of this method. The fragment between `<!-- begin-model-doc -->` and `<!-- end-model-doc -->` contains the method specification;
  2.2 Generate your code strictly according to the algorithm; Be aware of the EMF code style and APIs; Note that the getter of a boolean attribute `bv` looks like `isBv()`, e.g., `isIsTrue()` for `isTrue`;
  2.3 You should not change the method signature;
  2.4 After generation, replace the current body with the one you generate;
  2.5 Keep and update the docstring by changing `@generated` to `@generated NOT`.
3. Check the import list. Add missing imports if needed. Collection types provided by EMF is listed below
  - BasicEList: `org.eclipse.emf.common.util.BasicEList`;
4. Do not change other part.
5. Be aware of the method signatures, particularly, the input and output types, provided in the **Context**.

# Java Class
```java
/**
 * generated by Enhanced EcoreGen
 */
package edu.department;

import java.util.Collection;

import org.eclipse.emf.common.notify.NotificationChain;

import org.eclipse.emf.common.util.EList;

import org.eclipse.emf.ecore.EClass;
import org.eclipse.emf.ecore.EObject;
import org.eclipse.emf.ecore.InternalEObject;

import org.eclipse.emf.ecore.impl.MinimalEObjectImpl;

import org.eclipse.emf.ecore.util.EObjectContainmentEList;
import org.eclipse.emf.ecore.util.EObjectContainmentWithInverseEList;
import org.eclipse.emf.ecore.util.InternalEList;

/**
 * <!-- begin-user-doc -->
 * A representation of the model object '<em><b>Company</b></em>'.
 * <!-- end-user-doc -->
 *
 * <p>
 * The following features are supported:
 * </p>
 * <ul>
 *   <li>{@link edu.department.Company#getDepartments <em>Departments</em>}</li>
 *   <li>{@link edu.department.Company#getEmployees <em>Employees</em>}</li>
 * </ul>
 *
 * @see edu.department.DepartmentPackage#getCompany()
 * @model kind="class"
 * @generated
 */
public class Company extends MinimalEObjectImpl.Container implements EObject
{
  protected EList<Department> departments;

  protected EList<Employee> employees;

  protected Company()
  { ... /* omitted */ }

  @Override
  protected EClass eStaticClass()
  { ... /* omitted */ }

  public EList<Department> getDepartments()
  { ... /* omitted */ }

  public EList<Employee> getEmployees()
  { ... /* omitted */ }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Adds a new department to the company
   * Algorithm: 
   *   IF department is not null AND department not already in departments list:
   *     Add department to departments list
   *     Return true
   *   ELSE:
   *     Return false
   * Input: 
   *   department: Department object to be added
   * Output: 
   *   boolean: true if department added successfully, false otherwise
   * Pre-condition: department must not be null
   * Post-condition: departments list contains the new department if operation successful
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated
   */
  public boolean addDepartment(final Department department)
  {
    // TODO: Please generate a body of this unimplemented method based on the docstring
    // TODO: Replace the current body with the generated body 
    // TODO: Ensure that you mark it @generated NOT after code completion
    throw new UnsupportedOperationException();
    
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Adds a new employee to the company
   * Algorithm:
   *   IF employee is not null AND employee not already in employees list:
   *     Add employee to employees list
   *     Return true
   *   ELSE:
   *     Return false
   * Input:
   *   employee: Employee object to be added
   * Output:
   *   boolean: true if employee added successfully, false otherwise
   * Pre-condition: employee must not be null
   * Post-condition: employees list contains the new employee if operation successful
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated
   */
  public boolean addEmployee(final Employee employee)
  {
    // TODO: Please generate a body of this unimplemented method based on the docstring
    // TODO: Replace the current body with the generated body 
    // TODO: Ensure that you mark it @generated NOT after code completion
    throw new UnsupportedOperationException();
    
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Removes a department and all its associated offices and employees
   * Algorithm:
   *   IF department is null OR department not in departments list:
   *     Return false
   *   ELSE:
   *     Remove all offices from department.offices
   *     Remove all employees from department (including manager)
   *     Remove department from company.departments
   *     Return true
   * Input:
   *   department: Department object to be deleted
   * Output:
   *   boolean: true if department deletion successful, false otherwise
   * Pre-condition: department must exist in the company
   * Post-condition: Department and all its associations are removed from the company
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated
   */
  public boolean deleteDepartment(final Department department)
  {
    // TODO: Please generate a body of this unimplemented method based on the docstring
    // TODO: Replace the current body with the generated body 
    // TODO: Ensure that you mark it @generated NOT after code completion
    throw new UnsupportedOperationException();
    
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Returns list of departments without assigned managers
   * Algorithm:
   *   Initialize empty result list
   *   FOR each department in departments:
   *     IF department.hasManager() returns false:
   *       Add department to result list
   *   IF result list is empty:
   *     Return null
   *   ELSE:
   *     Return result list
   * Input: None
   * Output:
   *   List<Department>: List of departments without managers, or null if all have managers
   * Pre-condition: None
   * Post-condition: Return value accurately reflects current state of departments
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated
   */
  public EList<Department> listDepartmentsWithoutManager()
  {
    // TODO: Please generate a body of this unimplemented method based on the docstring
    // TODO: Replace the current body with the generated body 
    // TODO: Ensure that you mark it @generated NOT after code completion
    throw new UnsupportedOperationException();
    
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Assigns an employee as manager of a specified department
   * Algorithm:
   *   IF employee is null OR department is null:
   *     Return false
   *   IF employee not in company's employees list:
   *     Return false
   *   IF department not in company's departments list:
   *     Return false
   *   IF department already has a manager:
   *     Return false
   *   ELSE:
   *     Set department.manager = employee
   *     Set employee.department = department
   *     Return true
   * Input:
   *   employee: Employee object to be assigned as manager
   *   department: Department object where manager will be assigned
   * Output:
   *   boolean: true if manager assignment successful, false otherwise
   * Pre-condition: Both employee and department must exist in the company
   * Post-condition: Department has the specified employee as manager if operation successful
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated
   */
  public boolean assignManager(final Employee employee, final Department department)
  {
    // TODO: Please generate a body of this unimplemented method based on the docstring
    // TODO: Replace the current body with the generated body 
    // TODO: Ensure that you mark it @generated NOT after code completion
    throw new UnsupportedOperationException();
    
  }

  @SuppressWarnings("unchecked")
  @Override
  public NotificationChain eInverseAdd(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public NotificationChain eInverseRemove(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public Object eGet(int featureID, boolean resolve, boolean coreType)
  { ... /* omitted */ }

  @SuppressWarnings("unchecked")
  @Override
  public void eSet(int featureID, Object newValue)
  { ... /* omitted */ }

  @Override
  public void eUnset(int featureID)
  { ... /* omitted */ }

  @Override
  public boolean eIsSet(int featureID)
  { ... /* omitted */ }

} // Company
```

# Context
The following classes' information may be helpful for you. **DO NOT** call methods that are not listed.
- Class `Department` contains the following methods.
  + Instance creation: Use `DepartmentFactory.eINSTANCE.createDepartment()`
  + Public methods: public boolean assignOfficeAsHeadquarter(final Office office), public boolean hasManager(), public boolean deleteEmployee(final Employee employee), public boolean deleteOffice(final Office office)
  + Getter methods: public Employee getManager(), public Company getCompany(), public EList<Office> getOffices(), public Office getHeadquarter()
  + Setter methods: public void setManager(Employee newManager), public void setCompany(Company newCompany), public void setHeadquarter(Office newHeadquarter)
- Class `Employee` contains the following methods.
  + Instance creation: Use `DepartmentFactory.eINSTANCE.createEmployee()`
  + Getter methods: public String getName(), public String getEmail(), public String getID(), public String getNumber(), public Department getDepartment()
  + Setter methods: public void setName(String newName), public void setEmail(String newEmail), public void setID(String newID), public void setNumber(String newNumber), public void setDepartment(Department newDepartment)

# Output Format
Put the new Java class code into a single block as follows.

```java
(completed Java class)
```

generated code:
/**
 * generated by Enhanced EcoreGen
 */
package edu.department;

import java.util.Collection;

import org.eclipse.emf.common.notify.NotificationChain;

import org.eclipse.emf.common.util.EList;

import org.eclipse.emf.ecore.EClass;
import org.eclipse.emf.ecore.EObject;
import org.eclipse.emf.ecore.InternalEObject;

import org.eclipse.emf.ecore.impl.MinimalEObjectImpl;

import org.eclipse.emf.ecore.util.EObjectContainmentEList;
import org.eclipse.emf.ecore.util.EObjectContainmentWithInverseEList;
import org.eclipse.emf.ecore.util.InternalEList;

/**
 * <!-- begin-user-doc -->
 * A representation of the model object '<em><b>Company</b></em>'.
 * <!-- end-user-doc -->
 *
 * <p>
 * The following features are supported:
 * </p>
 * <ul>
 *   <li>{@link edu.department.Company#getDepartments <em>Departments</em>}</li>
 *   <li>{@link edu.department.Company#getEmployees <em>Employees</em>}</li>
 * </ul>
 *
 * @see edu.department.DepartmentPackage#getCompany()
 * @model kind="class"
 * @generated
 */
public class Company extends MinimalEObjectImpl.Container implements EObject
{
  protected EList<Department> departments;

  protected EList<Employee> employees;

  protected Company()
  { ... /* omitted */ }

  @Override
  protected EClass eStaticClass()
  { ... /* omitted */ }

  public EList<Department> getDepartments()
  { ... /* omitted */ }

  public EList<Employee> getEmployees()
  { ... /* omitted */ }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Adds a new department to the company
   * Algorithm: 
   *   IF department is not null AND department not already in departments list:
   *     Add department to departments list
   *     Return true
   *   ELSE:
   *     Return false
   * Input: 
   *   department: Department object to be added
   * Output: 
   *   boolean: true if department added successfully, false otherwise
   * Pre-condition: department must not be null
   * Post-condition: departments list contains the new department if operation successful
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated NOT
   */
  public boolean addDepartment(final Department department)
  {
    if (department != null && !getDepartments().contains(department)) {
      getDepartments().add(department);
      return true;
    }
    return false;
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Adds a new employee to the company
   * Algorithm:
   *   IF employee is not null AND employee not already in employees list:
   *     Add employee to employees list
   *     Return true
   *   ELSE:
   *     Return false
   * Input:
   *   employee: Employee object to be added
   * Output:
   *   boolean: true if employee added successfully, false otherwise
   * Pre-condition: employee must not be null
   * Post-condition: employees list contains the new employee if operation successful
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated NOT
   */
  public boolean addEmployee(final Employee employee)
  {
    if (employee != null && !getEmployees().contains(employee)) {
      getEmployees().add(employee);
      return true;
    }
    return false;
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Removes a department and all its associated offices and employees
   * Algorithm:
   *   IF department is null OR department not in departments list:
   *     Return false
   *   ELSE:
   *     Remove all offices from department.offices
   *     Remove all employees from department (including manager)
   *     Remove department from company.departments
   *     Return true
   * Input:
   *   department: Department object to be deleted
   * Output:
   *   boolean: true if department deletion successful, false otherwise
   * Pre-condition: department must exist in the company
   * Post-condition: Department and all its associations are removed from the company
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated NOT
   */
  public boolean deleteDepartment(final Department department)
  {
    if (department == null || !getDepartments().contains(department)) {
      return false;
    }
    
    // Remove all offices from department.offices
    EList<Office> offices = department.getOffices();
    while (!offices.isEmpty()) {
      department.deleteOffice(offices.get(0));
    }
    
    // Remove all employees from department (including manager)
    // Note: We need to get employees from the company and check their department
    EList<Employee> companyEmployees = getEmployees();
    for (int i = companyEmployees.size() - 1; i >= 0; i--) {
      Employee employee = companyEmployees.get(i);
      if (employee.getDepartment() == department) {
        department.deleteEmployee(employee);
      }
    }
    
    // Remove department from company.departments
    getDepartments().remove(department);
    return true;
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Returns list of departments without assigned managers
   * Algorithm:
   *   Initialize empty result list
   *   FOR each department in departments:
   *     IF department.hasManager() returns false:
   *       Add department to result list
   *   IF result list is empty:
   *     Return null
   *   ELSE:
   *     Return result list
   * Input: None
   * Output:
   *   List<Department>: List of departments without managers, or null if all have managers
   * Pre-condition: None
   * Post-condition: Return value accurately reflects current state of departments
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated NOT
   */
  public EList<Department> listDepartmentsWithoutManager()
  {
    EList<Department> result = new BasicEList<Department>();
    
    for (Department department : getDepartments()) {
      if (!department.hasManager()) {
        result.add(department);
      }
    }
    
    if (result.isEmpty()) {
      return null;
    }
    return result;
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Assigns an employee as manager of a specified department
   * Algorithm:
   *   IF employee is null OR department is null:
   *     Return false
   *   IF employee not in company's employees list:
   *     Return false
   *   IF department not in company's departments list:
   *     Return false
   *   IF department already has a manager:
   *     Return false
   *   ELSE:
   *     Set department.manager = employee
   *     Set employee.department = department
   *     Return true
   * Input:
   *   employee: Employee object to be assigned as manager
   *   department: Department object where manager will be assigned
   * Output:
   *   boolean: true if manager assignment successful, false otherwise
   * Pre-condition: Both employee and department must exist in the company
   * Post-condition: Department has the specified employee as manager if operation successful
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated NOT
   */
  public boolean assignManager(final Employee employee, final Department department)
  {
    if (employee == null || department == null) {
      return false;
    }
    
    if (!getEmployees().contains(employee)) {
      return false;
    }
    
    if (!getDepartments().contains(department)) {
      return false;
    }
    
    if (department.hasManager()) {
      return false;
    }
    
    department.setManager(employee);
    employee.setDepartment(department);
    return true;
  }

  @SuppressWarnings("unchecked")
  @Override
  public NotificationChain eInverseAdd(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public NotificationChain eInverseRemove(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public Object eGet(int featureID, boolean resolve, boolean coreType)
  { ... /* omitted */ }

  @SuppressWarnings("unchecked")
  @Override
  public void eSet(int featureID, Object newValue)
  { ... /* omitted */ }

  @Override
  public void eUnset(int featureID)
  { ... /* omitted */ }

  @Override
  public boolean eIsSet(int featureID)
  { ... /* omitted */ }

} // Company
# Task
You will be given a **Java Class** generated from an Ecore model by EMF code generator with `suppressInterfaces=true`. Your task is to implement the Java methods unimplemented by taking additional **Context** information into account.

Complete this task by following the guidelines below.
1. A method is unimplemented if its body contains `// TODO: Please complete this Java method based on the docstring`.
2. For every unimplemented method, 
  2.1 You must read the docstring of this method. The fragment between `<!-- begin-model-doc -->` and `<!-- end-model-doc -->` contains the method specification;
  2.2 Generate your code strictly according to the algorithm; Be aware of the EMF code style and APIs; Note that the getter of a boolean attribute `bv` looks like `isBv()`, e.g., `isIsTrue()` for `isTrue`;
  2.3 You should not change the method signature;
  2.4 After generation, replace the current body with the one you generate;
  2.5 Keep and update the docstring by changing `@generated` to `@generated NOT`.
3. Check the import list. Add missing imports if needed. Collection types provided by EMF is listed below
  - BasicEList: `org.eclipse.emf.common.util.BasicEList`;
4. Do not change other part.
5. Be aware of the method signatures, particularly, the input and output types, provided in the **Context**.

# Java Class
```java
/**
 * generated by Enhanced EcoreGen
 */
package edu.department;

import java.util.Collection;

import org.eclipse.emf.common.notify.Notification;
import org.eclipse.emf.common.notify.NotificationChain;

import org.eclipse.emf.common.util.EList;

import org.eclipse.emf.ecore.EClass;
import org.eclipse.emf.ecore.EObject;
import org.eclipse.emf.ecore.InternalEObject;

import org.eclipse.emf.ecore.impl.ENotificationImpl;
import org.eclipse.emf.ecore.impl.MinimalEObjectImpl;

import org.eclipse.emf.ecore.util.EObjectContainmentWithInverseEList;
import org.eclipse.emf.ecore.util.EcoreUtil;
import org.eclipse.emf.ecore.util.InternalEList;

/**
 * <!-- begin-user-doc -->
 * A representation of the model object '<em><b>Department</b></em>'.
 * <!-- end-user-doc -->
 *
 * <p>
 * The following features are supported:
 * </p>
 * <ul>
 *   <li>{@link edu.department.Department#getManager <em>Manager</em>}</li>
 *   <li>{@link edu.department.Department#getCompany <em>Company</em>}</li>
 *   <li>{@link edu.department.Department#getOffices <em>Offices</em>}</li>
 *   <li>{@link edu.department.Department#getHeadquarter <em>Headquarter</em>}</li>
 * </ul>
 *
 * @see edu.department.DepartmentPackage#getDepartment()
 * @model kind="class"
 * @generated
 */
public class Department extends MinimalEObjectImpl.Container implements EObject
{
  protected Employee manager;

  protected EList<Office> offices;

  protected Office headquarter;

  protected Department()
  { ... /* omitted */ }

  @Override
  protected EClass eStaticClass()
  { ... /* omitted */ }

  public Employee getManager()
  { ... /* omitted */ }

  public Employee basicGetManager()
  { ... /* omitted */ }

  public NotificationChain basicSetManager(Employee newManager, NotificationChain msgs)
  { ... /* omitted */ }

  public void setManager(Employee newManager)
  { ... /* omitted */ }

  public Company getCompany()
  { ... /* omitted */ }

  public NotificationChain basicSetCompany(Company newCompany, NotificationChain msgs)
  { ... /* omitted */ }

  public void setCompany(Company newCompany)
  { ... /* omitted */ }

  public EList<Office> getOffices()
  { ... /* omitted */ }

  public Office getHeadquarter()
  { ... /* omitted */ }

  public Office basicGetHeadquarter()
  { ... /* omitted */ }

  public void setHeadquarter(Office newHeadquarter)
  { ... /* omitted */ }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Assigns an office as headquarters for the department
   * Algorithm:
   *   IF office is null:
   *     Return false
   *   IF office not in department.offices:
   *     Return false
   *   IF department.headquarter is already set:
   *     Return false
   *   ELSE:
   *     Set department.headquarter = office
   *     Return true
   * Input:
   *   office: Office object to be assigned as headquarters
   * Output:
   *   boolean: true if headquarters assignment successful, false otherwise
   * Pre-condition: Office must belong to the department and department must not already have headquarters
   * Post-condition: Department has the specified office as headquarters if operation successful
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated
   */
  public boolean assignOfficeAsHeadquarter(final Office office)
  {
    // TODO: Please generate a body of this unimplemented method based on the docstring
    // TODO: Replace the current body with the generated body 
    // TODO: Ensure that you mark it @generated NOT after code completion
    throw new UnsupportedOperationException();
    
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Checks if the department has a manager assigned
   * Algorithm:
   *   Return department.manager != null
   * Input: None
   * Output:
   *   boolean: true if manager is assigned, false otherwise
   * Pre-condition: None
   * Post-condition: Return value accurately reflects current state of department manager
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated
   */
  public boolean hasManager()
  {
    // TODO: Please generate a body of this unimplemented method based on the docstring
    // TODO: Replace the current body with the generated body 
    // TODO: Ensure that you mark it @generated NOT after code completion
    throw new UnsupportedOperationException();
    
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Removes an employee from the department
   * Algorithm:
   *   IF employee is null OR employee not in department:
   *     Return false
   *   ELSE:
   *     Remove employee from department
   *     IF employee is manager of department:
   *       Set department.manager = null
   *     Remove employee from all office.workingEmployees lists
   *     Return true
   * Input:
   *   employee: Employee object to be removed
   * Output:
   *   boolean: true if employee removal successful, false otherwise
   * Pre-condition: Employee must exist in the department
   * Post-condition: Employee is removed from department and all associations
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated
   */
  public boolean deleteEmployee(final Employee employee)
  {
    // TODO: Please generate a body of this unimplemented method based on the docstring
    // TODO: Replace the current body with the generated body 
    // TODO: Ensure that you mark it @generated NOT after code completion
    throw new UnsupportedOperationException();
    
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Removes an office from the department
   * Algorithm:
   *   IF office is null OR office not in department.offices:
   *     Return false
   *   ELSE:
   *     Remove office from department.offices
   *     IF office is department.headquarter:
   *       Set department.headquarter = null
   *     Remove all employees from office.workingEmployees
   *     Return true
   * Input:
   *   office: Office object to be removed
   * Output:
   *   boolean: true if office removal successful, false otherwise
   * Pre-condition: Office must exist in the department
   * Post-condition: Office is removed from department and all associations
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated
   */
  public boolean deleteOffice(final Office office)
  {
    // TODO: Please generate a body of this unimplemented method based on the docstring
    // TODO: Replace the current body with the generated body 
    // TODO: Ensure that you mark it @generated NOT after code completion
    throw new UnsupportedOperationException();
    
  }

  @SuppressWarnings("unchecked")
  @Override
  public NotificationChain eInverseAdd(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public NotificationChain eInverseRemove(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public NotificationChain eBasicRemoveFromContainerFeature(NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public Object eGet(int featureID, boolean resolve, boolean coreType)
  { ... /* omitted */ }

  @SuppressWarnings("unchecked")
  @Override
  public void eSet(int featureID, Object newValue)
  { ... /* omitted */ }

  @Override
  public void eUnset(int featureID)
  { ... /* omitted */ }

  @Override
  public boolean eIsSet(int featureID)
  { ... /* omitted */ }

} // Department
```

# Context
The following classes' information may be helpful for you. **DO NOT** call methods that are not listed.
- Class `Employee` contains the following methods.
  + Instance creation: Use `DepartmentFactory.eINSTANCE.createEmployee()`
  + Getter methods: public String getName(), public String getEmail(), public String getID(), public String getNumber(), public Department getDepartment()
  + Setter methods: public void setName(String newName), public void setEmail(String newEmail), public void setID(String newID), public void setNumber(String newNumber), public void setDepartment(Department newDepartment)
- Class `Company` contains the following methods.
  + Instance creation: Use `DepartmentFactory.eINSTANCE.createCompany()`
  + Public methods: public boolean addDepartment(final Department department), public boolean addEmployee(final Employee employee), public boolean deleteDepartment(final Department department), public EList<Department> listDepartmentsWithoutManager(), public boolean assignManager(final Employee employee, final Department department)
  + Getter methods: public EList<Department> getDepartments(), public EList<Employee> getEmployees()
  + Setter methods: 
- Class `Office` contains the following methods.
  + Instance creation: Can only be used as an abstract type
  + Getter methods: public String getTitle(), public String getDescription(), public double getBudget(), public Date getDeadline(), public Department getDepartment(), public EList<Employee> getWorkingEmployees()
  + Setter methods: public void setTitle(String newTitle), public void setDescription(String newDescription), public void setBudget(double newBudget), public void setDeadline(Date newDeadline), public void setDepartment(Department newDepartment)

# Output Format
Put the new Java class code into a single block as follows.

```java
(completed Java class)
```

generated code:
/**
 * generated by Enhanced EcoreGen
 */
package edu.department;

import java.util.Collection;

import org.eclipse.emf.common.notify.Notification;
import org.eclipse.emf.common.notify.NotificationChain;

import org.eclipse.emf.common.util.EList;

import org.eclipse.emf.ecore.EClass;
import org.eclipse.emf.ecore.EObject;
import org.eclipse.emf.ecore.InternalEObject;

import org.eclipse.emf.ecore.impl.ENotificationImpl;
import org.eclipse.emf.ecore.impl.MinimalEObjectImpl;

import org.eclipse.emf.ecore.util.EObjectContainmentWithInverseEList;
import org.eclipse.emf.ecore.util.EcoreUtil;
import org.eclipse.emf.ecore.util.InternalEList;

/**
 * <!-- begin-user-doc -->
 * A representation of the model object '<em><b>Department</b></em>'.
 * <!-- end-user-doc -->
 *
 * <p>
 * The following features are supported:
 * </p>
 * <ul>
 *   <li>{@link edu.department.Department#getManager <em>Manager</em>}</li>
 *   <li>{@link edu.department.Department#getCompany <em>Company</em>}</li>
 *   <li>{@link edu.department.Department#getOffices <em>Offices</em>}</li>
 *   <li>{@link edu.department.Department#getHeadquarter <em>Headquarter</em>}</li>
 * </ul>
 *
 * @see edu.department.DepartmentPackage#getDepartment()
 * @model kind="class"
 * @generated
 */
public class Department extends MinimalEObjectImpl.Container implements EObject
{
  protected Employee manager;

  protected EList<Office> offices;

  protected Office headquarter;

  protected Department()
  { ... /* omitted */ }

  @Override
  protected EClass eStaticClass()
  { ... /* omitted */ }

  public Employee getManager()
  { ... /* omitted */ }

  public Employee basicGetManager()
  { ... /* omitted */ }

  public NotificationChain basicSetManager(Employee newManager, NotificationChain msgs)
  { ... /* omitted */ }

  public void setManager(Employee newManager)
  { ... /* omitted */ }

  public Company getCompany()
  { ... /* omitted */ }

  public NotificationChain basicSetCompany(Company newCompany, NotificationChain msgs)
  { ... /* omitted */ }

  public void setCompany(Company newCompany)
  { ... /* omitted */ }

  public EList<Office> getOffices()
  { ... /* omitted */ }

  public Office getHeadquarter()
  { ... /* omitted */ }

  public Office basicGetHeadquarter()
  { ... /* omitted */ }

  public void setHeadquarter(Office newHeadquarter)
  { ... /* omitted */ }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Assigns an office as headquarters for the department
   * Algorithm:
   *   IF office is null:
   *     Return false
   *   IF office not in department.offices:
   *     Return false
   *   IF department.headquarter is already set:
   *     Return false
   *   ELSE:
   *     Set department.headquarter = office
   *     Return true
   * Input:
   *   office: Office object to be assigned as headquarters
   * Output:
   *   boolean: true if headquarters assignment successful, false otherwise
   * Pre-condition: Office must belong to the department and department must not already have headquarters
   * Post-condition: Department has the specified office as headquarters if operation successful
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated NOT
   */
  public boolean assignOfficeAsHeadquarter(final Office office)
  {
    if (office == null) {
      return false;
    }
    
    if (!getOffices().contains(office)) {
      return false;
    }
    
    if (getHeadquarter() != null) {
      return false;
    }
    
    setHeadquarter(office);
    return true;
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Checks if the department has a manager assigned
   * Algorithm:
   *   Return department.manager != null
   * Input: None
   * Output:
   *   boolean: true if manager is assigned, false otherwise
   * Pre-condition: None
   * Post-condition: Return value accurately reflects current state of department manager
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated NOT
   */
  public boolean hasManager()
  {
    return getManager() != null;
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Removes an employee from the department
   * Algorithm:
   *   IF employee is null OR employee not in department:
   *     Return false
   *   ELSE:
   *     Remove employee from department
   *     IF employee is manager of department:
   *       Set department.manager = null
   *     Remove employee from all office.workingEmployees lists
   *     Return true
   * Input:
   *   employee: Employee object to be removed
   * Output:
   *   boolean: true if employee removal successful, false otherwise
   * Pre-condition: Employee must exist in the department
   * Post-condition: Employee is removed from department and all associations
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated NOT
   */
  public boolean deleteEmployee(final Employee employee)
  {
    if (employee == null || employee.getDepartment() != this) {
      return false;
    }
    
    // Remove employee from department
    employee.setDepartment(null);
    
    // If employee is manager, remove manager
    if (employee == getManager()) {
      setManager(null);
    }
    
    // Remove employee from all office.workingEmployees lists
    for (Office office : getOffices()) {
      office.getWorkingEmployees().remove(employee);
    }
    
    return true;
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Removes an office from the department
   * Algorithm:
   *   IF office is null OR office not in department.offices:
   *     Return false
   *   ELSE:
   *     Remove office from department.offices
   *     IF office is department.headquarter:
   *       Set department.headquarter = null
   *     Remove all employees from office.workingEmployees
   *     Return true
   * Input:
   *   office: Office object to be removed
   * Output:
   *   boolean: true if office removal successful, false otherwise
   * Pre-condition: Office must exist in the department
   * Post-condition: Office is removed from department and all associations
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated NOT
   */
  public boolean deleteOffice(final Office office)
  {
    if (office == null || !getOffices().contains(office)) {
      return false;
    }
    
    // Remove office from department
    getOffices().remove(office);
    
    // If office is headquarter, remove headquarter
    if (office == getHeadquarter()) {
      setHeadquarter(null);
    }
    
    // Remove all employees from office.workingEmployees
    office.getWorkingEmployees().clear();
    
    return true;
  }

  @SuppressWarnings("unchecked")
  @Override
  public NotificationChain eInverseAdd(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public NotificationChain eInverseRemove(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public NotificationChain eBasicRemoveFromContainerFeature(NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public Object eGet(int featureID, boolean resolve, boolean coreType)
  { ... /* omitted */ }

  @SuppressWarnings("unchecked")
  @Override
  public void eSet(int featureID, Object newValue)
  { ... /* omitted */ }

  @Override
  public void eUnset(int featureID)
  { ... /* omitted */ }

  @Override
  public boolean eIsSet(int featureID)
  { ... /* omitted */ }

} // Department
1312932 [main] INFO  du.ustb.sei.mde.mwe2.EcoreGenerator  - BatchCompiler -11 -d ../Departments/src-gen/../llm-bin -classpath "C:/Users/20936/.p2/pool/plugins/org.eclipse.emf.ecore_2.40.0.v20250803-1633.jar;C:/Users/20936/.p2/pool/plugins/org.eclipse.emf.common_2.43.0.v20250629-1403.jar" ../Departments/src-gen/edu/department/
1313064 [main] INFO  du.ustb.sei.mde.mwe2.EcoreGenerator  - 
1313064 [main] ERROR du.ustb.sei.mde.mwe2.EcoreGenerator  - ----------
1. ERROR in D:\EclipseWorkspace\Departments\src-gen\edu\department\Company.java (at line 257)
	EList<Department> result = new BasicEList<Department>();
	                               ^^^^^^^^^^
BasicEList cannot be resolved to a type
----------
1 problem (1 error)

1313064 [main] ERROR du.ustb.sei.mde.mwe2.EcoreGenerator  - File: D:\EclipseWorkspace\Departments\src-gen\edu\department\Company.java
Line: 257
Type: ERROR
Message: BasicEList cannot be resolved to a type
Code line: 	EList<Department> result = new BasicEList<Department>();
Caret Pos: 	                               ^^^^^^^^^^

# Task
You will be given a **Java Class** that is originally generated by EMF code generator with `suppressInterfaces=true` and later is completed by LLMs. Your task is to fix the **Compilation Errors** by taking additional **Context** information into account.

Complete this task by following the guidelines below.
1. Read the error messages carefully.
2. Do your best to fix the errors locally without introducing new types, fields, and methods.
3. You should not remove faulty methods to eliminate compilation errors.
4. Do not change parts without errors.

# Java Class
```java
/**
 * generated by Enhanced EcoreGen
 */
package edu.department;

import java.util.Collection;

import org.eclipse.emf.common.notify.NotificationChain;

import org.eclipse.emf.common.util.EList;

import org.eclipse.emf.ecore.EClass;
import org.eclipse.emf.ecore.EObject;
import org.eclipse.emf.ecore.InternalEObject;

import org.eclipse.emf.ecore.impl.MinimalEObjectImpl;

import org.eclipse.emf.ecore.util.EObjectContainmentEList;
import org.eclipse.emf.ecore.util.EObjectContainmentWithInverseEList;
import org.eclipse.emf.ecore.util.InternalEList;

/**
 * <!-- begin-user-doc -->
 * A representation of the model object '<em><b>Company</b></em>'.
 * <!-- end-user-doc -->
 *
 * <p>
 * The following features are supported:
 * </p>
 * <ul>
 *   <li>{@link edu.department.Company#getDepartments <em>Departments</em>}</li>
 *   <li>{@link edu.department.Company#getEmployees <em>Employees</em>}</li>
 * </ul>
 *
 * @see edu.department.DepartmentPackage#getCompany()
 * @model kind="class"
 * @generated
 */
public class Company extends MinimalEObjectImpl.Container implements EObject
{
  protected EList<Department> departments;

  protected EList<Employee> employees;

  protected Company()
  { ... /* omitted */ }

  @Override
  protected EClass eStaticClass()
  { ... /* omitted */ }

  public EList<Department> getDepartments()
  { ... /* omitted */ }

  public EList<Employee> getEmployees()
  { ... /* omitted */ }

  public boolean addDepartment(final Department department)
  { ... /* omitted */ }

  public boolean addEmployee(final Employee employee)
  { ... /* omitted */ }

  public boolean deleteDepartment(final Department department)
  { ... /* omitted */ }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Returns list of departments without assigned managers
   * Algorithm:
   *   Initialize empty result list
   *   FOR each department in departments:
   *     IF department.hasManager() returns false:
   *       Add department to result list
   *   IF result list is empty:
   *     Return null
   *   ELSE:
   *     Return result list
   * Input: None
   * Output:
   *   List<Department>: List of departments without managers, or null if all have managers
   * Pre-condition: None
   * Post-condition: Return value accurately reflects current state of departments
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated NOT
   */
  public EList<Department> listDepartmentsWithoutManager()
  {
    EList<Department> result = new BasicEList<Department>();
    
    for (Department department : getDepartments()) {
      if (!department.hasManager()) {
        result.add(department);
      }
    }
    
    if (result.isEmpty()) {
      return null;
    }
    return result;
  }

  public boolean assignManager(final Employee employee, final Department department)
  { ... /* omitted */ }

  @SuppressWarnings("unchecked")
  @Override
  public NotificationChain eInverseAdd(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public NotificationChain eInverseRemove(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public Object eGet(int featureID, boolean resolve, boolean coreType)
  { ... /* omitted */ }

  @SuppressWarnings("unchecked")
  @Override
  public void eSet(int featureID, Object newValue)
  { ... /* omitted */ }

  @Override
  public void eUnset(int featureID)
  { ... /* omitted */ }

  @Override
  public boolean eIsSet(int featureID)
  { ... /* omitted */ }

} // Company
```

# Compilation Errors
```
- ERROR: BasicEList cannot be resolved to a type
	EList<Department> result = new BasicEList<Department>();
	                               ^^^^^^^^^^
```

# Context
The following classes' information may be helpful for you. **DO NOT** call methods that are not listed.
- Class `Department` contains the following methods.
  + Instance creation: Use `DepartmentFactory.eINSTANCE.createDepartment()`
  + Public methods: public boolean assignOfficeAsHeadquarter(final Office office), public boolean hasManager(), public boolean deleteEmployee(final Employee employee), public boolean deleteOffice(final Office office)
  + Getter methods: public Employee getManager(), public Company getCompany(), public EList<Office> getOffices(), public Office getHeadquarter()
  + Setter methods: public void setManager(Employee newManager), public void setCompany(Company newCompany), public void setHeadquarter(Office newHeadquarter)
- Class `Employee` contains the following methods.
  + Instance creation: Use `DepartmentFactory.eINSTANCE.createEmployee()`
  + Getter methods: public String getName(), public String getEmail(), public String getID(), public String getNumber(), public Department getDepartment()
  + Setter methods: public void setName(String newName), public void setEmail(String newEmail), public void setID(String newID), public void setNumber(String newNumber), public void setDepartment(Department newDepartment)

# Output Format
Just put the Java class you fixed into a single block as follows.

```result
(fixed Java class)
```

fixed code:
/**
 * generated by Enhanced EcoreGen
 */
package edu.department;

import java.util.Collection;

import org.eclipse.emf.common.notify.NotificationChain;

import org.eclipse.emf.common.util.EList;

import org.eclipse.emf.ecore.EClass;
import org.eclipse.emf.ecore.EObject;
import org.eclipse.emf.ecore.InternalEObject;

import org.eclipse.emf.ecore.impl.MinimalEObjectImpl;

import org.eclipse.emf.ecore.util.EObjectContainmentEList;
import org.eclipse.emf.ecore.util.EObjectContainmentWithInverseEList;
import org.eclipse.emf.ecore.util.InternalEList;

/**
 * <!-- begin-user-doc -->
 * A representation of the model object '<em><b>Company</b></em>'.
 * <!-- end-user-doc -->
 *
 * <p>
 * The following features are supported:
 * </p>
 * <ul>
 *   <li>{@link edu.department.Company#getDepartments <em>Departments</em>}</li>
 *   <li>{@link edu.department.Company#getEmployees <em>Employees</em>}</li>
 * </ul>
 *
 * @see edu.department.DepartmentPackage#getCompany()
 * @model kind="class"
 * @generated
 */
public class Company extends MinimalEObjectImpl.Container implements EObject
{
  protected EList<Department> departments;

  protected EList<Employee> employees;

  protected Company()
  { ... /* omitted */ }

  @Override
  protected EClass eStaticClass()
  { ... /* omitted */ }

  public EList<Department> getDepartments()
  { ... /* omitted */ }

  public EList<Employee> getEmployees()
  { ... /* omitted */ }

  public boolean addDepartment(final Department department)
  { ... /* omitted */ }

  public boolean addEmployee(final Employee employee)
  { ... /* omitted */ }

  public boolean deleteDepartment(final Department department)
  { ... /* omitted */ }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Returns list of departments without assigned managers
   * Algorithm:
   *   Initialize empty result list
   *   FOR each department in departments:
   *     IF department.hasManager() returns false:
   *       Add department to result list
   *   IF result list is empty:
   *     Return null
   *   ELSE:
   *     Return result list
   * Input: None
   * Output:
   *   List<Department>: List of departments without managers, or null if all have managers
   * Pre-condition: None
   * Post-condition: Return value accurately reflects current state of departments
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated NOT
   */
  public EList<Department> listDepartmentsWithoutManager()
  {
    EList<Department> result = new EObjectContainmentEList<Department>(Department.class, this, DepartmentPackage.COMPANY__DEPARTMENTS);
    
    for (Department department : getDepartments()) {
      if (!department.hasManager()) {
        result.add(department);
      }
    }
    
    if (result.isEmpty()) {
      return null;
    }
    return result;
  }

  public boolean assignManager(final Employee employee, final Department department)
  { ... /* omitted */ }

  @SuppressWarnings("unchecked")
  @Override
  public NotificationChain eInverseAdd(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public NotificationChain eInverseRemove(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public Object eGet(int featureID, boolean resolve, boolean coreType)
  { ... /* omitted */ }

  @SuppressWarnings("unchecked")
  @Override
  public void eSet(int featureID, Object newValue)
  { ... /* omitted */ }

  @Override
  public void eUnset(int featureID)
  { ... /* omitted */ }

  @Override
  public boolean eIsSet(int featureID)
  { ... /* omitted */ }

} // Company
1355339 [main] INFO  du.ustb.sei.mde.mwe2.EcoreGenerator  - BatchCompiler -11 -d ../Departments/src-gen/../llm-bin -classpath "C:/Users/20936/.p2/pool/plugins/org.eclipse.emf.ecore_2.40.0.v20250803-1633.jar;C:/Users/20936/.p2/pool/plugins/org.eclipse.emf.common_2.43.0.v20250629-1403.jar" ../Departments/src-gen/edu/department/
1355436 [main] INFO  du.ustb.sei.mde.mwe2.EcoreGenerator  - 
1355436 [main] ERROR du.ustb.sei.mde.mwe2.EcoreGenerator  - 
1355436 [main] INFO  du.ustb.sei.mde.mwe2.EcoreGenerator  - There is more compilation error
1355437 [main] INFO  du.ustb.sei.mde.mwe2.EcoreGenerator  - Generating common infrastructure
1355438 [main] INFO  .emf.mwe2.runtime.workflow.Workflow  - Done.
sample5.mwe2 启动完成
正在拷贝 src-gen/edu/department 到 deepseek-v3.2-exp/department5...
拷贝完成！

======================================
所有任务完成！
======================================
