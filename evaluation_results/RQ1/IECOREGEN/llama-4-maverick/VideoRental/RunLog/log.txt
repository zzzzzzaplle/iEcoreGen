4. Output: output value, including the meaning, the format, and the value ranges if necessary
4. Pre-condition and Post-condition: the pre-/post-conditions if necessary.

Finish this task by following the guidelines below.
1. Take the principle of modularization into account.
2. For each operation, determine its functional boundary based on the given requirement. Ensure high cohesion and low coupling.
3. If there is any unspecified details, such as undefined constants, rates, and ratios, then you must infer them.
4. Make sure that all requirements can be covered.

# Requirement
```text
Customers select at least one video for rental. The maximum number of tapes a customer can have outstanding on the rental is 20. The customer's account number is entered to retrieve customer data and create an order. Each customer gets an id card from ABC for identification purposes. This id card has a bar code that can be read with the bar code reader. Bar code Ids for each tape are entered, and video information from inventory is displayed. The video inventory file is updated. When all tape Ids are entered, the system computes the total bill. Money is collected, and the amount is entered into the system. Change is calculated and displayed. The rental transaction is created, printed, and stored. The customer signs the rental form, takes the tapes, and leaves. The video bar code ID is entered into the system to return a tape. The rental transaction is displayed, and the tape is marked with the return date (format yyyy-MM-dd HH:mm:ss). If past-due amounts are owed, they can be paid at this time; or the clerk can select an option that updates the rental with the return date and calculates past-due fees. Any outstanding video rentals are displayed with the amount due on each tape and the total amount due. Any past-due amount must be paid before new tapes can be rented.
Function Requirement:
+ Calculate the past-due amount for a video rental. If return date ≤ due date → overdue amount = 0. If return date > due date → overdue days = (return date - due date), overdue fee = overdue days × $0.5. If the tape has not been returned (return date is null) → overdue day = current date – due date; overdue fee = overdueDays × $0.50. Dates are in "yyyy-MM-dd HH:mm:ss" format. Any partial day counts as a full day. Return the fee rounded to two decimal places.

+ Check tape availability for a given date. For the given current date, a tape is unavailable if it belongs to any active rental whose return date is null. Return true if the tape is available; otherwise, false.

+ Add a video tape rental. Verify customer has <20 rentals and no past - due amount. And Verify the tape is availability. Returns true if all checks pass and the rental is processed; otherwise, returns false.

+ Calculate the total price for a customer's rental transaction. There maybe multiple active rentals for a transaction. Each rental total price = base rental fee + overdue fee. Base rental fee = rental days × $1 per day. Any partial rental day counts as a full day. Return the total rounded to two decimal places.

+ List unreturned tapes for a customer. Retrieves a list of all tapes id rented by a customer that have not been returned. Return an empty list if the customer has no active rentals.
```

# Class Diagram
```plantuml
@startuml

title videorental Model

class Customer {
    id : String
    rentals : List<VideoRental>
    transactions : List<RentalTransaction>
    addVedioTapeRental(tape : Tape, currentDate : EDate) : boolean
    calculateTotalPastDueAmount(currentDate : EDate) : double
    getUnreturnedTapes() : List<Tape>
}
class RentalTransaction {
    rentalDate : EDate
    totalPrice : double
    customer : Customer
    rentals : List<VideoRental>
    calculateTotalPrice(currentDate : EDate, rentalDate : EDate) : double
}
class Tape {
    id : String
    videoInformation : String
    rentals : List<VideoRental>
    isAvailable(currentDate : EDate) : boolean
}
class VideoRental {
    dueDate : EDate
    ownedPastDueAmount : double
    returnDate : EDate
    customer : Customer
    tape : Tape
    transaction : RentalTransaction
    calculateBaseRentalFee(currentDate : EDate) : double
    calculateOwnedPastDueAmount(currentDate : EDate) : double
}

Customer *-- "*" VideoRental : rentals  'opposite: customer
Customer --> "*" RentalTransaction : transactions  'opposite: customer
RentalTransaction --> Customer : customer  'opposite: transactions
RentalTransaction --> "*" VideoRental : rentals  'opposite: transaction
Tape --> "*" VideoRental : rentals  'opposite: tape
VideoRental --> Customer : customer  'opposite: rentals
VideoRental --> Tape : tape  'opposite: rentals
VideoRental --> RentalTransaction : transaction  'opposite: rentals
@enduml
```

# Output Format
Put all your results in a single block as illustrated below:

```result

class_1::operation_1
/*
 * your description for operation_1
 */

class_1::operation_2
/*
 * your description for this operation_2
 */

...
```

581194 [main] INFO  du.ustb.sei.mde.mwe2.EcoreGenerator  - {org.eclipse.emf.ecore.impl.EOperationImpl@6e3f108c (name: calculateTotalPastDueAmount) (ordered: true, unique: true, lowerBound: 0, upperBound: 1)=Summary: Calculates the total past-due amount for a customer based on their active rentals.
Algorithm:
1. Iterate through all VideoRental instances associated with the customer.
2. For each VideoRental, calculate the past-due amount using the calculateOwnedPastDueAmount method.
3. Sum up the past-due amounts for all VideoRental instances.
Input:
  - currentDate: The current date against which past-due amounts are calculated.
    - Meaning: The date used to determine if a rental is past due.
    - Format: EDate object representing the current date and time.
Output:
  - double: The total past-due amount for the customer, rounded to two decimal places.
    - Meaning: The total amount the customer owes due to past-due rentals.
Pre-condition: The customer object is valid and has associated VideoRental instances.
Post-condition: The total past-due amount is calculated and returned., org.eclipse.emf.ecore.impl.EOperationImpl@1eba2b8d (name: addVedioTapeRental) (ordered: true, unique: true, lowerBound: 0, upperBound: 1)=Summary: Adds a video tape rental for a customer after verifying eligibility and tape availability.
Algorithm:
1. Check if the customer has less than 20 active rentals.
2. Check if the customer has no past-due amount.
3. Check if the tape is available for rental on the given date.
4. If all checks pass, create a new VideoRental instance and associate it with the customer and the tape.
5. Update the customer's rentals and the tape's rentals.
Input:
  - tape: The Tape object representing the video tape to be rented.
    - Meaning: The video tape being rented out.
    - Format: Tape object with id and other relevant information.
  - currentDate: The current date when the rental is being processed.
    - Meaning: The date on which the rental transaction is happening.
    - Format: EDate object representing the current date and time.
Output:
  - boolean: True if the rental is successfully processed; otherwise, false.
    - Meaning: Indicates whether the rental was successful or not.
Pre-condition: The customer and tape objects are valid and properly initialized.
Post-condition: If the operation returns true, a new VideoRental is created and associated with the customer and tape., org.eclipse.emf.ecore.impl.EOperationImpl@7a447c5d (name: getUnreturnedTapes) (ordered: true, unique: true, lowerBound: 0, upperBound: -1)=Summary: Retrieves a list of tape IDs that have been rented by the customer but not yet returned.
Algorithm:
1. Iterate through all VideoRental instances associated with the customer.
2. For each VideoRental, check if the returnDate is null, indicating the tape has not been returned.
3. Collect the tape IDs of unreturned tapes.
Input: None.
Output:
  - List<Tape>: A list of Tape objects representing the unreturned tapes.
    - Meaning: Tapes that are currently rented out and not returned.
Pre-condition: The customer object is valid and properly initialized.
Post-condition: A list of unreturned tapes is returned; if none, an empty list is returned., org.eclipse.emf.ecore.impl.EOperationImpl@4a187041 (name: calculateBaseRentalFee) (ordered: true, unique: true, lowerBound: 0, upperBound: 1)=Summary: Calculates the base rental fee for a video rental based on the rental duration.
Algorithm:
1. Determine the rental duration in days between the rentalDate of the associated RentalTransaction and the currentDate.
2. Calculate the base rental fee by multiplying the rental duration (rounded up to the nearest whole day) by the daily rental rate ($1 per day).
Input:
  - currentDate: The current date used to calculate the rental duration.
    - Meaning: The date against which the rental duration is calculated.
    - Format: EDate object.
Output:
  - double: The base rental fee, rounded to two decimal places.
    - Meaning: The basic cost of renting the tape without any overdue fees.
Pre-condition: The VideoRental object is valid and associated with a RentalTransaction.
Post-condition: The base rental fee is calculated and returned., org.eclipse.emf.ecore.impl.EOperationImpl@131c0796 (name: calculateTotalPrice) (ordered: true, unique: true, lowerBound: 0, upperBound: 1)=Summary: Calculates the total price for a customer's rental transaction, including base rental fees and overdue fees.
Algorithm:
1. Iterate through all VideoRental instances associated with the RentalTransaction.
2. For each VideoRental, calculate the base rental fee using the calculateBaseRentalFee method and the overdue fee using the calculateOwnedPastDueAmount method.
3. Sum up the total price for all VideoRental instances.
Input:
  - currentDate: The current date used for calculating overdue fees.
    - Meaning: The date against which overdue fees are calculated.
    - Format: EDate object.
  - rentalDate: The date when the rental transaction occurred.
    - Meaning: The date when the rental transaction was initiated.
    - Format: EDate object.
Output:
  - double: The total price for the rental transaction, rounded to two decimal places.
    - Meaning: The total cost of the rental transaction.
Pre-condition: The RentalTransaction object is valid and has associated VideoRental instances.
Post-condition: The total price for the rental transaction is calculated and returned., org.eclipse.emf.ecore.impl.EOperationImpl@13674bcb (name: calculateOwnedPastDueAmount) (ordered: true, unique: true, lowerBound: 0, upperBound: 1)=Summary: Calculates the past-due amount (overdue fee) for a video rental.
Algorithm:
1. If the returnDate is not null and is less than or equal to the dueDate, the overdue amount is 0.
2. If the returnDate is not null but is greater than the dueDate, calculate the overdue days and multiply by the daily overdue fee rate ($0.5 per day).
3. If the returnDate is null, calculate the overdue days from the dueDate to the currentDate and multiply by the daily overdue fee rate ($0.5 per day).
Input:
  - currentDate: The current date used to calculate overdue days if the tape has not been returned.
    - Meaning: The date against which overdue days are calculated.
    - Format: EDate object representing the current date and time.
Output:
  - double: The overdue fee, rounded to two decimal places.
    - Meaning: The amount owed due to late return of the tape.
Pre-condition: The VideoRental object is valid and has a dueDate.
Post-condition: The overdue fee is calculated and returned., org.eclipse.emf.ecore.impl.EOperationImpl@5c35a03b (name: isAvailable) (ordered: true, unique: true, lowerBound: 0, upperBound: 1)=Summary: Checks if a tape is available for rental on a given date.
Algorithm:
1. Check if there are any active VideoRental instances associated with the tape (i.e., returnDate is null).
2. If there are active rentals, the tape is not available; otherwise, it is available.
Input:
  - currentDate: The date to check for tape availability.
    - Meaning: The date on which availability is being checked.
    - Format: EDate object representing the current date and time.
Output:
  - boolean: True if the tape is available; otherwise, false.
    - Meaning: Indicates whether the tape can be rented out on the given date.
Pre-condition: The Tape object is valid and properly initialized.
Post-condition: The availability status of the tape is returned.}
581196 [main] INFO  .sei.mde.mwe2.EMFGeneratorFragment2  - Generating EMF model code
581224 [main] INFO  .sei.mde.mwe2.EMFGeneratorFragment2  - Enhancing generated code at ../VideoRental/src-gen/edu/videorental
# Task
You will be given a **Java Class** generated from an Ecore model by EMF code generator with `suppressInterfaces=true`. Your task is to implement the Java methods unimplemented by taking additional **Context** information into account.

Complete this task by following the guidelines below.
1. A method is unimplemented if its body contains `// TODO: Please complete this Java method based on the docstring`.
2. For every unimplemented method, 
  2.1 You must read the docstring of this method. The fragment between `<!-- begin-model-doc -->` and `<!-- end-model-doc -->` contains the method specification;
  2.2 Generate your code strictly according to the algorithm; Be aware of the EMF code style and APIs; Note that the getter of a boolean attribute `bv` looks like `isBv()`, e.g., `isIsTrue()` for `isTrue`;
  2.3 You should not change the method signature;
  2.4 After generation, replace the current body with the one you generate;
  2.5 Keep and update the docstring by changing `@generated` to `@generated NOT`.
3. Check the import list. Add missing imports if needed. Collection types provided by EMF is listed below
  - BasicEList: `org.eclipse.emf.common.util.BasicEList`;
4. Do not change other part.
5. Be aware of the method signatures, particularly, the input and output types, provided in the **Context**.

# Java Class
```java
/**
 * generated by Enhanced EcoreGen
 */
package edu.videorental;

import java.util.Collection;
import java.util.Date;

import org.eclipse.emf.common.notify.Notification;
import org.eclipse.emf.common.notify.NotificationChain;

import org.eclipse.emf.common.util.EList;

import org.eclipse.emf.ecore.EClass;
import org.eclipse.emf.ecore.EObject;
import org.eclipse.emf.ecore.InternalEObject;

import org.eclipse.emf.ecore.impl.ENotificationImpl;
import org.eclipse.emf.ecore.impl.MinimalEObjectImpl;

import org.eclipse.emf.ecore.util.EObjectContainmentWithInverseEList;
import org.eclipse.emf.ecore.util.EObjectWithInverseResolvingEList;
import org.eclipse.emf.ecore.util.InternalEList;

/**
 * <!-- begin-user-doc -->
 * A representation of the model object '<em><b>Customer</b></em>'.
 * <!-- end-user-doc -->
 *
 * <p>
 * The following features are supported:
 * </p>
 * <ul>
 *   <li>{@link edu.videorental.Customer#getId <em>Id</em>}</li>
 *   <li>{@link edu.videorental.Customer#getRentals <em>Rentals</em>}</li>
 *   <li>{@link edu.videorental.Customer#getTransactions <em>Transactions</em>}</li>
 * </ul>
 *
 * @see edu.videorental.VideorentalPackage#getCustomer()
 * @model kind="class"
 * @generated
 */
public class Customer extends MinimalEObjectImpl.Container implements EObject
{
  protected static final String ID_EDEFAULT = null;

  protected String id = ID_EDEFAULT;

  protected EList<VideoRental> rentals;

  protected EList<RentalTransaction> transactions;

  protected Customer()
  { ... /* omitted */ }

  @Override
  protected EClass eStaticClass()
  { ... /* omitted */ }

  public String getId()
  { ... /* omitted */ }

  public void setId(String newId)
  { ... /* omitted */ }

  public EList<VideoRental> getRentals()
  { ... /* omitted */ }

  public EList<RentalTransaction> getTransactions()
  { ... /* omitted */ }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Adds a video tape rental for a customer after verifying eligibility and tape availability.
   * Algorithm:
   * 1. Check if the customer has less than 20 active rentals.
   * 2. Check if the customer has no past-due amount.
   * 3. Check if the tape is available for rental on the given date.
   * 4. If all checks pass, create a new VideoRental instance and associate it with the customer and the tape.
   * 5. Update the customer's rentals and the tape's rentals.
   * Input:
   *   - tape: The Tape object representing the video tape to be rented.
   *     - Meaning: The video tape being rented out.
   *     - Format: Tape object with id and other relevant information.
   *   - currentDate: The current date when the rental is being processed.
   *     - Meaning: The date on which the rental transaction is happening.
   *     - Format: EDate object representing the current date and time.
   * Output:
   *   - boolean: True if the rental is successfully processed; otherwise, false.
   *     - Meaning: Indicates whether the rental was successful or not.
   * Pre-condition: The customer and tape objects are valid and properly initialized.
   * Post-condition: If the operation returns true, a new VideoRental is created and associated with the customer and tape.
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated
   */
  public boolean addVedioTapeRental(final Tape tape, final Date currentDate)
  {
    // TODO: Please generate a body of this unimplemented method based on the docstring
    // TODO: Replace the current body with the generated body 
    // TODO: Ensure that you mark it @generated NOT after code completion
    throw new UnsupportedOperationException();
    
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Retrieves a list of tape IDs that have been rented by the customer but not yet returned.
   * Algorithm:
   * 1. Iterate through all VideoRental instances associated with the customer.
   * 2. For each VideoRental, check if the returnDate is null, indicating the tape has not been returned.
   * 3. Collect the tape IDs of unreturned tapes.
   * Input: None.
   * Output:
   *   - List<Tape>: A list of Tape objects representing the unreturned tapes.
   *     - Meaning: Tapes that are currently rented out and not returned.
   * Pre-condition: The customer object is valid and properly initialized.
   * Post-condition: A list of unreturned tapes is returned; if none, an empty list is returned.
   * <!-- end-model-doc -->
   * @model kind="operation"
   *        annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated
   */
  public EList<Tape> getUnreturnedTapes()
  {
    // TODO: Please generate a body of this unimplemented method based on the docstring
    // TODO: Replace the current body with the generated body 
    // TODO: Ensure that you mark it @generated NOT after code completion
    throw new UnsupportedOperationException();
    
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Calculates the total past-due amount for a customer based on their active rentals.
   * Algorithm:
   * 1. Iterate through all VideoRental instances associated with the customer.
   * 2. For each VideoRental, calculate the past-due amount using the calculateOwnedPastDueAmount method.
   * 3. Sum up the past-due amounts for all VideoRental instances.
   * Input:
   *   - currentDate: The current date against which past-due amounts are calculated.
   *     - Meaning: The date used to determine if a rental is past due.
   *     - Format: EDate object representing the current date and time.
   * Output:
   *   - double: The total past-due amount for the customer, rounded to two decimal places.
   *     - Meaning: The total amount the customer owes due to past-due rentals.
   * Pre-condition: The customer object is valid and has associated VideoRental instances.
   * Post-condition: The total past-due amount is calculated and returned.
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated
   */
  public double calculateTotalPastDueAmount(final Date currentDate)
  {
    // TODO: Please generate a body of this unimplemented method based on the docstring
    // TODO: Replace the current body with the generated body 
    // TODO: Ensure that you mark it @generated NOT after code completion
    throw new UnsupportedOperationException();
    
  }

  @SuppressWarnings("unchecked")
  @Override
  public NotificationChain eInverseAdd(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public NotificationChain eInverseRemove(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public Object eGet(int featureID, boolean resolve, boolean coreType)
  { ... /* omitted */ }

  @SuppressWarnings("unchecked")
  @Override
  public void eSet(int featureID, Object newValue)
  { ... /* omitted */ }

  @Override
  public void eUnset(int featureID)
  { ... /* omitted */ }

  @Override
  public boolean eIsSet(int featureID)
  { ... /* omitted */ }

  @Override
  public String toString()
  { ... /* omitted */ }

} // Customer
```

# Context
The following classes' information may be helpful for you. **DO NOT** call methods that are not listed.
- Class `VideoRental` contains the following methods.
  + Instance creation: Use `VideorentalFactory.eINSTANCE.createVideoRental()`
  + Public methods: public double calculateOwnedPastDueAmount(final Date currentDate), public double calculateBaseRentalFee(final Date currentDate)
  + Getter methods: public Date getDueDate(), public Date getReturnDate(), public double getOwnedPastDueAmount(), public Tape getTape(), public Customer getCustomer(), public RentalTransaction getTransaction()
  + Setter methods: public void setDueDate(Date newDueDate), public void setReturnDate(Date newReturnDate), public void setOwnedPastDueAmount(double newOwnedPastDueAmount), public void setTape(Tape newTape), public void setCustomer(Customer newCustomer), public void setTransaction(RentalTransaction newTransaction)
- Class `RentalTransaction` contains the following methods.
  + Instance creation: Use `VideorentalFactory.eINSTANCE.createRentalTransaction()`
  + Public methods: public double calculateTotalPrice(final Date currentDate, final Date rentalDate)
  + Getter methods: public Date getRentalDate(), public double getTotalPrice(), public EList<VideoRental> getRentals(), public Customer getCustomer()
  + Setter methods: public void setRentalDate(Date newRentalDate), public void setTotalPrice(double newTotalPrice), public void setCustomer(Customer newCustomer)
- Class `Tape` contains the following methods.
  + Instance creation: Use `VideorentalFactory.eINSTANCE.createTape()`
  + Public methods: public boolean isAvailable(final Date currentDate)
  + Getter methods: public String getId(), public String getVideoInformation(), public EList<VideoRental> getRentals()
  + Setter methods: public void setId(String newId), public void setVideoInformation(String newVideoInformation)

# Output Format
Put the new Java class code into a single block as follows.

```java
(completed Java class)
```

generated code:
public boolean addVedioTapeRental(final Tape tape, final Date currentDate) {
    // Check if the customer has less than 20 active rentals
    if (getRentals().size() >= 20) {
        return false;
    }

    // Check if the customer has no past-due amount
    if (calculateTotalPastDueAmount(currentDate) > 0) {
        return false;
    }

    // Check if the tape is available for rental on the given date
    if (!tape.isAvailable(currentDate)) {
        return false;
    }

    // Create a new VideoRental instance and associate it with the customer and the tape
    VideoRental videoRental = VideorentalFactory.eINSTANCE.createVideoRental();
    videoRental.setCustomer(this);
    videoRental.setTape(tape);
    getRentals().add(videoRental);
    tape.getRentals().add(videoRental);

    return true;
}
public EList<Tape> getUnreturnedTapes() {
    EList<Tape> unreturnedTapes = new BasicEList<Tape>();
    for (VideoRental rental : getRentals()) {
        if (rental.getReturnDate() == null) {
            unreturnedTapes.add(rental.getTape());
        }
    }
    return unreturnedTapes;
}
public double calculateTotalPastDueAmount(final Date currentDate) {
    double totalPastDueAmount = 0.0;
    for (VideoRental rental : getRentals()) {
        totalPastDueAmount += rental.calculateOwnedPastDueAmount(currentDate);
    }
    return Math.round(totalPastDueAmount * 100.0) / 100.0; // Round to two decimal places
}
/**
 * generated by Enhanced EcoreGen
 */
package edu.videorental;

import java.util.Date;

import org.eclipse.emf.common.util.BasicEList;
import org.eclipse.emf.common.util.EList;

import org.eclipse.emf.ecore.impl.ENotificationImpl;
import org.eclipse.emf.ecore.impl.MinimalEObjectImpl;

import edu.videorental.VideorentalFactory;

/**
 * <!-- begin-user-doc -->
 * A representation of the model object '<em><b>Customer</b></em>'.
 * <!-- end-user-doc -->
 *
 * <p>
 * The following features are supported:
 * </p>
 * <ul>
 *   <li>{@link edu.videorental.Customer#getId <em>Id</em>}</li>
 *   <li>{@link edu.videorental.Customer#getRentals <em>Rentals</em>}</li>
 *   <li>{@link edu.videorental.Customer#getTransactions <em>Transactions</em>}</li>
 * </ul>
 *
 * @see edu.videorental.VideorentalPackage#getCustomer()
 * @model kind="class"
 * @generated
 */
public class Customer extends MinimalEObjectImpl.Container implements EObject
{
    // ... (other methods and fields remain the same)

    /**
     * <!-- begin-user-doc -->
     * <!-- end-user-doc -->
     * <!-- begin-model-doc -->
     * Summary: Adds a video tape rental for a customer after verifying eligibility and tape availability.
     * Algorithm:
     * 1. Check if the customer has less than 20 active rentals.
     * 2. Check if the customer has no past-due amount.
     * 3. Check if the tape is available for rental on the given date.
     * 4. If all checks pass, create a new VideoRental instance and associate it with the customer and the tape.
     * 5. Update the customer's rentals and the tape's rentals.
     * Input:
     *   - tape: The Tape object representing the video tape to be rented.
     *     - Meaning: The video tape being rented out.
     *     - Format: Tape object with id and other relevant information.
     *   - currentDate: The current date when the rental is being processed.
     *     - Meaning: The date on which the rental transaction is happening.
     *     - Format: EDate object representing the current date and time.
     * Output:
     *   - boolean: True if the rental is successfully processed; otherwise, false.
     *     - Meaning: Indicates whether the rental was successful or not.
     * Pre-condition: The customer and tape objects are valid and properly initialized.
     * Post-condition: If the operation returns true, a new VideoRental is created and associated with the customer and tape.
     * <!-- end-model-doc -->
     * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
     * @generated NOT
     */
    public boolean addVedioTapeRental(final Tape tape, final Date currentDate) {
        if (getRentals().size() >= 20) {
            return false;
        }

        if (calculateTotalPastDueAmount(currentDate) > 0) {
            return false;
        }

        if (!tape.isAvailable(currentDate)) {
            return false;
        }

        VideoRental videoRental = VideorentalFactory.eINSTANCE.createVideoRental();
        videoRental.setCustomer(this);
        videoRental.setTape(tape);
        getRentals().add(videoRental);
        tape.getRentals().add(videoRental);

        return true;
    }

    /**
     * <!-- begin-user-doc -->
     * <!-- end-user-doc -->
     * <!-- begin-model-doc -->
     * Summary: Retrieves a list of tape IDs that have been rented by the customer but not yet returned.
     * Algorithm:
     * 1. Iterate through all VideoRental instances associated with the customer.
     * 2. For each VideoRental, check if the returnDate is null, indicating the tape has not been returned.
     * 3. Collect the tape IDs of unreturned tapes.
     * Input: None.
     * Output:
     *   - List<Tape>: A list of Tape objects representing the unreturned tapes.
     *     - Meaning: Tapes that are currently rented out and not returned.
     * Pre-condition: The customer object is valid and properly initialized.
     * Post-condition: A list of unreturned tapes is returned; if none, an empty list is returned.
     * <!-- end-model-doc -->
     * @model kind="operation"
     *        annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
     * @generated NOT
     */
    public EList<Tape> getUnreturnedTapes() {
        EList<Tape> unreturnedTapes = new BasicEList<Tape>();
        for (VideoRental rental : getRentals()) {
            if (rental.getReturnDate() == null) {
                unreturnedTapes.add(rental.getTape());
            }
        }
        return unreturnedTapes;
    }

    /**
     * <!-- begin-user-doc -->
     * <!-- end-user-doc -->
     * <!-- begin-model-doc -->
     * Summary: Calculates the total past-due amount for a customer based on their active rentals.
     * Algorithm:
     * 1. Iterate through all VideoRental instances associated with the customer.
     * 2. For each VideoRental, calculate the past-due amount using the calculateOwnedPastDueAmount method.
     * 3. Sum up the past-due amounts for all VideoRental instances.
     * Input:
     *   - currentDate: The current date against which past-due amounts are calculated.
     *     - Meaning: The date used to determine if a rental is past due.
     *     - Format: EDate object representing the current date and time.
     * Output:
     *   - double: The total past-due amount for the customer, rounded to two decimal places.
     *     - Meaning: The total amount the customer owes due to past-due rentals.
     * Pre-condition: The customer object is valid and has associated VideoRental instances.
     * Post-condition: The total past-due amount is calculated and returned.
     * <!-- end-model-doc -->
     * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
     * @generated NOT
     */
    public double calculateTotalPastDueAmount(final Date currentDate) {
        double totalPastDueAmount = 0.0;
        for (VideoRental rental : getRentals()) {
            totalPastDueAmount += rental.calculateOwnedPastDueAmount(currentDate);
        }
        return Math.round(totalPastDueAmount * 100.0) / 100.0;
    }

    // ... (other methods remain the same)
}
/**
 * generated by Enhanced EcoreGen
 */
package edu.videorental;

import java.util.Date;

import org.eclipse.emf.common.util.BasicEList;
import org.eclipse.emf.common.util.EList;

import org.eclipse.emf.ecore.impl.ENotificationImpl;
import org.eclipse.emf.ecore.impl.MinimalEObjectImpl;

import edu.videorental.VideorentalFactory;

/**
 * <!-- begin-user-doc -->
 * A representation of the model object '<em><b>Customer</b></em>'.
 * <!-- end-user-doc -->
 *
 * <p>
 * The following features are supported:
 * </p>
 * <ul>
 *   <li>{@link edu.videorental.Customer#getId <em>Id</em>}</li>
 *   <li>{@link edu.videorental.Customer#getRentals <em>Rentals</em>}</li>
 *   <li>{@link edu.videorental.Customer#getTransactions <em>Transactions</em>}</li>
 * </ul>
 *
 * @see edu.videorental.VideorentalPackage#getCustomer()
 * @model kind="class"
 * @generated
 */
public class Customer extends MinimalEObjectImpl.Container implements EObject
{
    protected static final String ID_EDEFAULT = null;

    protected String id = ID_EDEFAULT;

    protected EList<VideoRental> rentals;

    protected EList<RentalTransaction> transactions;

    protected Customer()
    { /* omitted */ }

    @Override
    protected EClass eStaticClass()
    { /* omitted */ }

    public String getId()
    { /* omitted */ }

    public void setId(String newId)
    { /* omitted */ }

    public EList<VideoRental> getRentals()
    { /* omitted */ }

    public EList<RentalTransaction> getTransactions()
    { /* omitted */ }

    /**
     * <!-- begin-user-doc -->
     * <!-- end-user-doc -->
     * <!-- begin-model-doc -->
     * Summary: Adds a video tape rental for a customer after verifying eligibility and tape availability.
     * Algorithm:
     * 1. Check if the customer has less than 20 active rentals.
     * 2. Check if the customer has no past-due amount.
     * 3. Check if the tape is available for rental on the given date.
     * 4. If all checks pass, create a new VideoRental instance and associate it with the customer and the tape.
     * 5. Update the customer's rentals and the tape's rentals.
     * Input:
     *   - tape: The Tape object representing the video tape to be rented.
     *     - Meaning: The video tape being rented out.
     *     - Format: Tape object with id and other relevant information.
     *   - currentDate: The current date when the rental is being processed.
     *     - Meaning: The date on which the rental transaction is happening.
     *     - Format: EDate object representing the current date and time.
     * Output:
     *   - boolean: True if the rental is successfully processed; otherwise, false.
     *     - Meaning: Indicates whether the rental was successful or not.
     * Pre-condition: The customer and tape objects are valid and properly initialized.
     * Post-condition: If the operation returns true, a new VideoRental is created and associated with the customer and tape.
     * <!-- end-model-doc -->
     * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
     * @generated NOT
     */
    public boolean addVedioTapeRental(final Tape tape, final Date currentDate) {
        if (getRentals().size() >= 20) {
            return false;
        }

        if (calculateTotalPastDueAmount(currentDate) > 0) {
            return false;
        }

        if (!tape.isAvailable(currentDate)) {
            return false;
        }

        VideoRental videoRental = VideorentalFactory.eINSTANCE.createVideoRental();
        videoRental.setCustomer(this);
        videoRental.setTape(tape);
        getRentals().add(videoRental);
        tape.getRentals().add(videoRental);

        return true;
    }

    /**
     * <!-- begin-user-doc -->
     * <!-- end-user-doc -->
     * <!-- begin-model-doc -->
     * Summary: Retrieves a list of tape IDs that have been rented by the customer but not yet returned.
     * Algorithm:
     * 1. Iterate through all VideoRental instances associated with the customer.
     * 2. For each VideoRental, check if the returnDate is null, indicating the tape has not been returned.
     * 3. Collect the tape IDs of unreturned tapes.
     * Input: None.
     * Output:
     *   - List<Tape>: A list of Tape objects representing the unreturned tapes.
     *     - Meaning: Tapes that are currently rented out and not returned.
     * Pre-condition: The customer object is valid and properly initialized.
     * Post-condition: A list of unreturned tapes is returned; if none, an empty list is returned.
     * <!-- end-model-doc -->
     * @model kind="operation"
     *        annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
     * @generated NOT
     */
    public EList<Tape> getUnreturnedTapes() {
        EList<Tape> unreturnedTapes = new BasicEList<Tape>();
        for (VideoRental rental : getRentals()) {
            if (rental.getReturnDate() == null) {
                unreturnedTapes.add(rental.getTape());
            }
        }
        return unreturnedTapes;
    }

    /**
     * <!-- begin-user-doc -->
     * <!-- end-user-doc -->
     * <!-- begin-model-doc -->
     * Summary: Calculates the total past-due amount for a customer based on their active rentals.
     * Algorithm:
     * 1. Iterate through all VideoRental instances associated with the customer.
     * 2. For each VideoRental, calculate the past-due amount using the calculateOwnedPastDueAmount method.
     * 3. Sum up the past-due amounts for all VideoRental instances.
     * Input:
     *   - currentDate: The current date against which past-due amounts are calculated.
     *     - Meaning: The date used to determine if a rental is past due.
     *     - Format: EDate object representing the current date and time.
     * Output:
     *   - double: The total past-due amount for the customer, rounded to two decimal places.
     *     - Meaning: The total amount the customer owes due to past-due rentals.
     * Pre-condition: The customer object is valid and has associated VideoRental instances.
     * Post-condition: The total past-due amount is calculated and returned.
     * <!-- end-model-doc -->
     * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
     * @generated NOT
     */
    public double calculateTotalPastDueAmount(final Date currentDate) {
        double totalPastDueAmount = 0.0;
        for (VideoRental rental : getRentals()) {
            totalPastDueAmount += rental.calculateOwnedPastDueAmount(currentDate);
        }
        return Math.round(totalPastDueAmount * 100.0) / 100.0;
    }

    @SuppressWarnings("unchecked")
    @Override
    public NotificationChain eInverseAdd(InternalEObject otherEnd, int featureID, NotificationChain msgs)
    { /* omitted */ }

    @Override
    public NotificationChain eInverseRemove(InternalEObject otherEnd, int featureID, NotificationChain msgs)
    { /* omitted */ }

    @Override
    public Object eGet(int featureID, boolean resolve, boolean coreType)
    { /* omitted */ }

    @SuppressWarnings("unchecked")
    @Override
    public void eSet(int featureID, Object newValue)
    { /* omitted */ }

    @Override
    public void eUnset(int featureID)
    { /* omitted */ }

    @Override
    public boolean eIsSet(int featureID)
    { /* omitted */ }

    @Override
    public String toString()
    { /* omitted */ }

} // Customer
# Task
You will be given a **Java Class** generated from an Ecore model by EMF code generator with `suppressInterfaces=true`. Your task is to implement the Java methods unimplemented by taking additional **Context** information into account.

Complete this task by following the guidelines below.
1. A method is unimplemented if its body contains `// TODO: Please complete this Java method based on the docstring`.
2. For every unimplemented method, 
  2.1 You must read the docstring of this method. The fragment between `<!-- begin-model-doc -->` and `<!-- end-model-doc -->` contains the method specification;
  2.2 Generate your code strictly according to the algorithm; Be aware of the EMF code style and APIs; Note that the getter of a boolean attribute `bv` looks like `isBv()`, e.g., `isIsTrue()` for `isTrue`;
  2.3 You should not change the method signature;
  2.4 After generation, replace the current body with the one you generate;
  2.5 Keep and update the docstring by changing `@generated` to `@generated NOT`.
3. Check the import list. Add missing imports if needed. Collection types provided by EMF is listed below
  - BasicEList: `org.eclipse.emf.common.util.BasicEList`;
4. Do not change other part.
5. Be aware of the method signatures, particularly, the input and output types, provided in the **Context**.

# Java Class
```java
/**
 * generated by Enhanced EcoreGen
 */
package edu.videorental;

import java.util.Collection;
import java.util.Date;

import org.eclipse.emf.common.notify.Notification;
import org.eclipse.emf.common.notify.NotificationChain;

import org.eclipse.emf.common.util.EList;

import org.eclipse.emf.ecore.EClass;
import org.eclipse.emf.ecore.EObject;
import org.eclipse.emf.ecore.InternalEObject;

import org.eclipse.emf.ecore.impl.ENotificationImpl;
import org.eclipse.emf.ecore.impl.MinimalEObjectImpl;

import org.eclipse.emf.ecore.util.EObjectWithInverseResolvingEList;
import org.eclipse.emf.ecore.util.InternalEList;

/**
 * <!-- begin-user-doc -->
 * A representation of the model object '<em><b>Tape</b></em>'.
 * <!-- end-user-doc -->
 *
 * <p>
 * The following features are supported:
 * </p>
 * <ul>
 *   <li>{@link edu.videorental.Tape#getId <em>Id</em>}</li>
 *   <li>{@link edu.videorental.Tape#getVideoInformation <em>Video Information</em>}</li>
 *   <li>{@link edu.videorental.Tape#getRentals <em>Rentals</em>}</li>
 * </ul>
 *
 * @see edu.videorental.VideorentalPackage#getTape()
 * @model kind="class"
 * @generated
 */
public class Tape extends MinimalEObjectImpl.Container implements EObject
{
  protected static final String ID_EDEFAULT = null;

  protected String id = ID_EDEFAULT;

  protected static final String VIDEO_INFORMATION_EDEFAULT = null;

  protected String videoInformation = VIDEO_INFORMATION_EDEFAULT;

  protected EList<VideoRental> rentals;

  protected Tape()
  { ... /* omitted */ }

  @Override
  protected EClass eStaticClass()
  { ... /* omitted */ }

  public String getId()
  { ... /* omitted */ }

  public void setId(String newId)
  { ... /* omitted */ }

  public String getVideoInformation()
  { ... /* omitted */ }

  public void setVideoInformation(String newVideoInformation)
  { ... /* omitted */ }

  public EList<VideoRental> getRentals()
  { ... /* omitted */ }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Checks if a tape is available for rental on a given date.
   * Algorithm:
   * 1. Check if there are any active VideoRental instances associated with the tape (i.e., returnDate is null).
   * 2. If there are active rentals, the tape is not available; otherwise, it is available.
   * Input:
   *   - currentDate: The date to check for tape availability.
   *     - Meaning: The date on which availability is being checked.
   *     - Format: EDate object representing the current date and time.
   * Output:
   *   - boolean: True if the tape is available; otherwise, false.
   *     - Meaning: Indicates whether the tape can be rented out on the given date.
   * Pre-condition: The Tape object is valid and properly initialized.
   * Post-condition: The availability status of the tape is returned.
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated
   */
  public boolean isAvailable(final Date currentDate)
  {
    // TODO: Please generate a body of this unimplemented method based on the docstring
    // TODO: Replace the current body with the generated body 
    // TODO: Ensure that you mark it @generated NOT after code completion
    throw new UnsupportedOperationException();
    
  }

  @SuppressWarnings("unchecked")
  @Override
  public NotificationChain eInverseAdd(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public NotificationChain eInverseRemove(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public Object eGet(int featureID, boolean resolve, boolean coreType)
  { ... /* omitted */ }

  @SuppressWarnings("unchecked")
  @Override
  public void eSet(int featureID, Object newValue)
  { ... /* omitted */ }

  @Override
  public void eUnset(int featureID)
  { ... /* omitted */ }

  @Override
  public boolean eIsSet(int featureID)
  { ... /* omitted */ }

  @Override
  public String toString()
  { ... /* omitted */ }

} // Tape
```

# Context
The following classes' information may be helpful for you. **DO NOT** call methods that are not listed.
- Class `VideoRental` contains the following methods.
  + Instance creation: Use `VideorentalFactory.eINSTANCE.createVideoRental()`
  + Public methods: public double calculateOwnedPastDueAmount(final Date currentDate), public double calculateBaseRentalFee(final Date currentDate)
  + Getter methods: public Date getDueDate(), public Date getReturnDate(), public double getOwnedPastDueAmount(), public Tape getTape(), public Customer getCustomer(), public RentalTransaction getTransaction()
  + Setter methods: public void setDueDate(Date newDueDate), public void setReturnDate(Date newReturnDate), public void setOwnedPastDueAmount(double newOwnedPastDueAmount), public void setTape(Tape newTape), public void setCustomer(Customer newCustomer), public void setTransaction(RentalTransaction newTransaction)

# Output Format
Put the new Java class code into a single block as follows.

```java
(completed Java class)
```

generated code:
/**
 * generated by Enhanced EcoreGen
 */
package edu.videorental;

import java.util.Collection;
import java.util.Date;

import org.eclipse.emf.common.notify.Notification;
import org.eclipse.emf.common.notify.NotificationChain;

import org.eclipse.emf.common.util.EList;

import org.eclipse.emf.ecore.EClass;
import org.eclipse.emf.ecore.EObject;
import org.eclipse.emf.ecore.InternalEObject;

import org.eclipse.emf.ecore.impl.ENotificationImpl;
import org.eclipse.emf.ecore.impl.MinimalEObjectImpl;

import org.eclipse.emf.ecore.util.EObjectWithInverseResolvingEList;
import org.eclipse.emf.ecore.util.InternalEList;

/**
 * <!-- begin-user-doc -->
 * A representation of the model object '<em><b>Tape</b></em>'.
 * <!-- end-user-doc -->
 *
 * <p>
 * The following features are supported:
 * </p>
 * <ul>
 *   <li>{@link edu.videorental.Tape#getId <em>Id</em>}</li>
 *   <li>{@link edu.videorental.Tape#getVideoInformation <em>Video Information</em>}</li>
 *   <li>{@link edu.videorental.Tape#getRentals <em>Rentals</em>}</li>
 * </ul>
 *
 * @see edu.videorental.VideorentalPackage#getTape()
 * @model kind="class"
 * @generated
 */
public class Tape extends MinimalEObjectImpl.Container implements EObject
{
  protected static final String ID_EDEFAULT = null;

  protected String id = ID_EDEFAULT;

  protected static final String VIDEO_INFORMATION_EDEFAULT = null;

  protected String videoInformation = VIDEO_INFORMATION_EDEFAULT;

  protected EList<VideoRental> rentals;

  protected Tape()
  { /* omitted */ }

  @Override
  protected EClass eStaticClass()
  { /* omitted */ }

  public String getId()
  { /* omitted */ }

  public void setId(String newId)
  { /* omitted */ }

  public String getVideoInformation()
  { /* omitted */ }

  public void setVideoInformation(String newVideoInformation)
  { /* omitted */ }

  public EList<VideoRental> getRentals()
  { /* omitted */ }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Checks if a tape is available for rental on a given date.
   * Algorithm:
   * 1. Check if there are any active VideoRental instances associated with the tape (i.e., returnDate is null).
   * 2. If there are active rentals, the tape is not available; otherwise, it is available.
   * Input:
   *   - currentDate: The date to check for tape availability.
   *     - Meaning: The date on which availability is being checked.
   *     - Format: EDate object representing the current date and time.
   * Output:
   *   - boolean: True if the tape is available; otherwise, false.
   *     - Meaning: Indicates whether the tape can be rented out on the given date.
   * Pre-condition: The Tape object is valid and properly initialized.
   * Post-condition: The availability status of the tape is returned.
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated NOT
   */
  public boolean isAvailable(final Date currentDate)
  {
    for (VideoRental rental : getRentals()) {
      if (rental.getReturnDate() == null) {
        return false;
      }
    }
    return true;
  }

  @SuppressWarnings("unchecked")
  @Override
  public NotificationChain eInverseAdd(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { /* omitted */ }

  @Override
  public NotificationChain eInverseRemove(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { /* omitted */ }

  @Override
  public Object eGet(int featureID, boolean resolve, boolean coreType)
  { /* omitted */ }

  @SuppressWarnings("unchecked")
  @Override
  public void eSet(int featureID, Object newValue)
  { /* omitted */ }

  @Override
  public void eUnset(int featureID)
  { /* omitted */ }

  @Override
  public boolean eIsSet(int featureID)
  { /* omitted */ }

  @Override
  public String toString()
  { /* omitted */ }

} // Tape
# Task
You will be given a **Java Class** generated from an Ecore model by EMF code generator with `suppressInterfaces=true`. Your task is to implement the Java methods unimplemented by taking additional **Context** information into account.

Complete this task by following the guidelines below.
1. A method is unimplemented if its body contains `// TODO: Please complete this Java method based on the docstring`.
2. For every unimplemented method, 
  2.1 You must read the docstring of this method. The fragment between `<!-- begin-model-doc -->` and `<!-- end-model-doc -->` contains the method specification;
  2.2 Generate your code strictly according to the algorithm; Be aware of the EMF code style and APIs; Note that the getter of a boolean attribute `bv` looks like `isBv()`, e.g., `isIsTrue()` for `isTrue`;
  2.3 You should not change the method signature;
  2.4 After generation, replace the current body with the one you generate;
  2.5 Keep and update the docstring by changing `@generated` to `@generated NOT`.
3. Check the import list. Add missing imports if needed. Collection types provided by EMF is listed below
  - BasicEList: `org.eclipse.emf.common.util.BasicEList`;
4. Do not change other part.
5. Be aware of the method signatures, particularly, the input and output types, provided in the **Context**.

# Java Class
```java
/**
 * generated by Enhanced EcoreGen
 */
package edu.videorental;

import java.util.Date;

import org.eclipse.emf.common.notify.Notification;
import org.eclipse.emf.common.notify.NotificationChain;

import org.eclipse.emf.ecore.EClass;
import org.eclipse.emf.ecore.EObject;
import org.eclipse.emf.ecore.InternalEObject;

import org.eclipse.emf.ecore.impl.ENotificationImpl;
import org.eclipse.emf.ecore.impl.MinimalEObjectImpl;

import org.eclipse.emf.ecore.util.EcoreUtil;

/**
 * <!-- begin-user-doc -->
 * A representation of the model object '<em><b>Video Rental</b></em>'.
 * <!-- end-user-doc -->
 *
 * <p>
 * The following features are supported:
 * </p>
 * <ul>
 *   <li>{@link edu.videorental.VideoRental#getDueDate <em>Due Date</em>}</li>
 *   <li>{@link edu.videorental.VideoRental#getReturnDate <em>Return Date</em>}</li>
 *   <li>{@link edu.videorental.VideoRental#getOwnedPastDueAmount <em>Owned Past Due Amount</em>}</li>
 *   <li>{@link edu.videorental.VideoRental#getTape <em>Tape</em>}</li>
 *   <li>{@link edu.videorental.VideoRental#getCustomer <em>Customer</em>}</li>
 *   <li>{@link edu.videorental.VideoRental#getTransaction <em>Transaction</em>}</li>
 * </ul>
 *
 * @see edu.videorental.VideorentalPackage#getVideoRental()
 * @model kind="class"
 * @generated
 */
public class VideoRental extends MinimalEObjectImpl.Container implements EObject
{
  protected static final Date DUE_DATE_EDEFAULT = null;

  protected Date dueDate = DUE_DATE_EDEFAULT;

  protected static final Date RETURN_DATE_EDEFAULT = null;

  protected Date returnDate = RETURN_DATE_EDEFAULT;

  protected static final double OWNED_PAST_DUE_AMOUNT_EDEFAULT = 0.0;

  protected double ownedPastDueAmount = OWNED_PAST_DUE_AMOUNT_EDEFAULT;

  protected Tape tape;

  protected RentalTransaction transaction;

  protected VideoRental()
  { ... /* omitted */ }

  @Override
  protected EClass eStaticClass()
  { ... /* omitted */ }

  public Date getDueDate()
  { ... /* omitted */ }

  public void setDueDate(Date newDueDate)
  { ... /* omitted */ }

  public Date getReturnDate()
  { ... /* omitted */ }

  public void setReturnDate(Date newReturnDate)
  { ... /* omitted */ }

  public double getOwnedPastDueAmount()
  { ... /* omitted */ }

  public void setOwnedPastDueAmount(double newOwnedPastDueAmount)
  { ... /* omitted */ }

  public Tape getTape()
  { ... /* omitted */ }

  public Tape basicGetTape()
  { ... /* omitted */ }

  public NotificationChain basicSetTape(Tape newTape, NotificationChain msgs)
  { ... /* omitted */ }

  public void setTape(Tape newTape)
  { ... /* omitted */ }

  public Customer getCustomer()
  { ... /* omitted */ }

  public NotificationChain basicSetCustomer(Customer newCustomer, NotificationChain msgs)
  { ... /* omitted */ }

  public void setCustomer(Customer newCustomer)
  { ... /* omitted */ }

  public RentalTransaction getTransaction()
  { ... /* omitted */ }

  public RentalTransaction basicGetTransaction()
  { ... /* omitted */ }

  public NotificationChain basicSetTransaction(RentalTransaction newTransaction, NotificationChain msgs)
  { ... /* omitted */ }

  public void setTransaction(RentalTransaction newTransaction)
  { ... /* omitted */ }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Calculates the past-due amount (overdue fee) for a video rental.
   * Algorithm:
   * 1. If the returnDate is not null and is less than or equal to the dueDate, the overdue amount is 0.
   * 2. If the returnDate is not null but is greater than the dueDate, calculate the overdue days and multiply by the daily overdue fee rate ($0.5 per day).
   * 3. If the returnDate is null, calculate the overdue days from the dueDate to the currentDate and multiply by the daily overdue fee rate ($0.5 per day).
   * Input:
   *   - currentDate: The current date used to calculate overdue days if the tape has not been returned.
   *     - Meaning: The date against which overdue days are calculated.
   *     - Format: EDate object representing the current date and time.
   * Output:
   *   - double: The overdue fee, rounded to two decimal places.
   *     - Meaning: The amount owed due to late return of the tape.
   * Pre-condition: The VideoRental object is valid and has a dueDate.
   * Post-condition: The overdue fee is calculated and returned.
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated
   */
  public double calculateOwnedPastDueAmount(final Date currentDate)
  {
    // TODO: Please generate a body of this unimplemented method based on the docstring
    // TODO: Replace the current body with the generated body 
    // TODO: Ensure that you mark it @generated NOT after code completion
    throw new UnsupportedOperationException();
    
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Calculates the base rental fee for a video rental based on the rental duration.
   * Algorithm:
   * 1. Determine the rental duration in days between the rentalDate of the associated RentalTransaction and the currentDate.
   * 2. Calculate the base rental fee by multiplying the rental duration (rounded up to the nearest whole day) by the daily rental rate ($1 per day).
   * Input:
   *   - currentDate: The current date used to calculate the rental duration.
   *     - Meaning: The date against which the rental duration is calculated.
   *     - Format: EDate object.
   * Output:
   *   - double: The base rental fee, rounded to two decimal places.
   *     - Meaning: The basic cost of renting the tape without any overdue fees.
   * Pre-condition: The VideoRental object is valid and associated with a RentalTransaction.
   * Post-condition: The base rental fee is calculated and returned.
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated
   */
  public double calculateBaseRentalFee(final Date currentDate)
  {
    // TODO: Please generate a body of this unimplemented method based on the docstring
    // TODO: Replace the current body with the generated body 
    // TODO: Ensure that you mark it @generated NOT after code completion
    throw new UnsupportedOperationException();
    
  }

  @Override
  public NotificationChain eInverseAdd(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public NotificationChain eInverseRemove(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public NotificationChain eBasicRemoveFromContainerFeature(NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public Object eGet(int featureID, boolean resolve, boolean coreType)
  { ... /* omitted */ }

  @Override
  public void eSet(int featureID, Object newValue)
  { ... /* omitted */ }

  @Override
  public void eUnset(int featureID)
  { ... /* omitted */ }

  @Override
  public boolean eIsSet(int featureID)
  { ... /* omitted */ }

  @Override
  public String toString()
  { ... /* omitted */ }

} // VideoRental
```

# Context
The following classes' information may be helpful for you. **DO NOT** call methods that are not listed.
- Class `Tape` contains the following methods.
  + Instance creation: Use `VideorentalFactory.eINSTANCE.createTape()`
  + Public methods: public boolean isAvailable(final Date currentDate)
  + Getter methods: public String getId(), public String getVideoInformation(), public EList<VideoRental> getRentals()
  + Setter methods: public void setId(String newId), public void setVideoInformation(String newVideoInformation)
- Class `Customer` contains the following methods.
  + Instance creation: Use `VideorentalFactory.eINSTANCE.createCustomer()`
  + Public methods: public boolean addVedioTapeRental(final Tape tape, final Date currentDate), public EList<Tape> getUnreturnedTapes(), public double calculateTotalPastDueAmount(final Date currentDate)
  + Getter methods: public String getId(), public EList<VideoRental> getRentals(), public EList<RentalTransaction> getTransactions()
  + Setter methods: public void setId(String newId)
- Class `RentalTransaction` contains the following methods.
  + Instance creation: Use `VideorentalFactory.eINSTANCE.createRentalTransaction()`
  + Public methods: public double calculateTotalPrice(final Date currentDate, final Date rentalDate)
  + Getter methods: public Date getRentalDate(), public double getTotalPrice(), public EList<VideoRental> getRentals(), public Customer getCustomer()
  + Setter methods: public void setRentalDate(Date newRentalDate), public void setTotalPrice(double newTotalPrice), public void setCustomer(Customer newCustomer)

# Output Format
Put the new Java class code into a single block as follows.

```java
(completed Java class)
```

generated code:
/**
 * generated by Enhanced EcoreGen
 */
package edu.videorental;

import java.util.Date;

import org.eclipse.emf.common.notify.Notification;
import org.eclipse.emf.common.notify.NotificationChain;

import org.eclipse.emf.ecore.EClass;
import org.eclipse.emf.ecore.EObject;
import org.eclipse.emf.ecore.InternalEObject;

import org.eclipse.emf.ecore.impl.ENotificationImpl;
import org.eclipse.emf.ecore.impl.MinimalEObjectImpl;

import org.eclipse.emf.ecore.util.EcoreUtil;

/**
 * <!-- begin-user-doc -->
 * A representation of the model object '<em><b>Video Rental</b></em>'.
 * <!-- end-user-doc -->
 *
 * <p>
 * The following features are supported:
 * </p>
 * <ul>
 *   <li>{@link edu.videorental.VideoRental#getDueDate <em>Due Date</em>}</li>
 *   <li>{@link edu.videorental.VideoRental#getReturnDate <em>Return Date</em>}</li>
 *   <li>{@link edu.videorental.VideoRental#getOwnedPastDueAmount <em>Owned Past Due Amount</em>}</li>
 *   <li>{@link edu.videorental.VideoRental#getTape <em>Tape</em>}</li>
 *   <li>{@link edu.videorental.VideoRental#getCustomer <em>Customer</em>}</li>
 *   <li>{@link edu.videorental.VideoRental#getTransaction <em>Transaction</em>}</li>
 * </ul>
 *
 * @see edu.videorental.VideorentalPackage#getVideoRental()
 * @model kind="class"
 * @generated
 */
public class VideoRental extends MinimalEObjectImpl.Container implements EObject
{
  protected static final Date DUE_DATE_EDEFAULT = null;

  protected Date dueDate = DUE_DATE_EDEFAULT;

  protected static final Date RETURN_DATE_EDEFAULT = null;

  protected Date returnDate = RETURN_DATE_EDEFAULT;

  protected static final double OWNED_PAST_DUE_AMOUNT_EDEFAULT = 0.0;

  protected double ownedPastDueAmount = OWNED_PAST_DUE_AMOUNT_EDEFAULT;

  protected Tape tape;

  protected RentalTransaction transaction;

  protected VideoRental()
  { /* omitted */ }

  @Override
  protected EClass eStaticClass()
  { /* omitted */ }

  public Date getDueDate()
  { /* omitted */ }

  public void setDueDate(Date newDueDate)
  { /* omitted */ }

  public Date getReturnDate()
  { /* omitted */ }

  public void setReturnDate(Date newReturnDate)
  { /* omitted */ }

  public double getOwnedPastDueAmount()
  { /* omitted */ }

  public void setOwnedPastDueAmount(double newOwnedPastDueAmount)
  { /* omitted */ }

  public Tape getTape()
  { /* omitted */ }

  public Tape basicGetTape()
  { /* omitted */ }

  public NotificationChain basicSetTape(Tape newTape, NotificationChain msgs)
  { /* omitted */ }

  public void setTape(Tape newTape)
  { /* omitted */ }

  public Customer getCustomer()
  { /* omitted */ }

  public NotificationChain basicSetCustomer(Customer newCustomer, NotificationChain msgs)
  { /* omitted */ }

  public void setCustomer(Customer newCustomer)
  { /* omitted */ }

  public RentalTransaction getTransaction()
  { /* omitted */ }

  public RentalTransaction basicGetTransaction()
  { /* omitted */ }

  public NotificationChain basicSetTransaction(RentalTransaction newTransaction, NotificationChain msgs)
  { /* omitted */ }

  public void setTransaction(RentalTransaction newTransaction)
  { /* omitted */ }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Calculates the past-due amount (overdue fee) for a video rental.
   * Algorithm:
   * 1. If the returnDate is not null and is less than or equal to the dueDate, the overdue amount is 0.
   * 2. If the returnDate is not null but is greater than the dueDate, calculate the overdue days and multiply by the daily overdue fee rate ($0.5 per day).
   * 3. If the returnDate is null, calculate the overdue days from the dueDate to the currentDate and multiply by the daily overdue fee rate ($0.5 per day).
   * Input:
   *   - currentDate: The current date used to calculate overdue days if the tape has not been returned.
   *     - Meaning: The date against which overdue days are calculated.
   *     - Format: EDate object representing the current date and time.
   * Output:
   *   - double: The overdue fee, rounded to two decimal places.
   *     - Meaning: The amount owed due to late return of the tape.
   * Pre-condition: The VideoRental object is valid and has a dueDate.
   * Post-condition: The overdue fee is calculated and returned.
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated NOT
   */
  public double calculateOwnedPastDueAmount(final Date currentDate)
  {
    double overdueFee = 0.0;
    if (returnDate != null) {
      if (returnDate.after(dueDate)) {
        long overdueDays = (returnDate.getTime() - dueDate.getTime()) / (24 * 60 * 60 * 1000);
        overdueFee = overdueDays * 0.5;
      }
    } else {
      long overdueDays = (currentDate.getTime() - dueDate.getTime()) / (24 * 60 * 60 * 1000);
      overdueFee = overdueDays * 0.5;
    }
    return Math.round(overdueFee * 100.0) / 100.0;
  }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Calculates the base rental fee for a video rental based on the rental duration.
   * Algorithm:
   * 1. Determine the rental duration in days between the rentalDate of the associated RentalTransaction and the currentDate.
   * 2. Calculate the base rental fee by multiplying the rental duration (rounded up to the nearest whole day) by the daily rental rate ($1 per day).
   * Input:
   *   - currentDate: The current date used to calculate the rental duration.
   *     - Meaning: The date against which the rental duration is calculated.
   *     - Format: EDate object.
   * Output:
   *   - double: The base rental fee, rounded to two decimal places.
   *     - Meaning: The basic cost of renting the tape without any overdue fees.
   * Pre-condition: The VideoRental object is valid and associated with a RentalTransaction.
   * Post-condition: The base rental fee is calculated and returned.
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated NOT
   */
  public double calculateBaseRentalFee(final Date currentDate)
  {
    Date rentalDate = getTransaction().getRentalDate();
    long rentalDuration = (currentDate.getTime() - rentalDate.getTime()) / (24 * 60 * 60 * 1000);
    double baseRentalFee = Math.ceil(rentalDuration) * 1.0;
    return Math.round(baseRentalFee * 100.0) / 100.0;
  }

  @Override
  public NotificationChain eInverseAdd(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { /* omitted */ }

  @Override
  public NotificationChain eInverseRemove(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { /* omitted */ }

  @Override
  public NotificationChain eBasicRemoveFromContainerFeature(NotificationChain msgs)
  { /* omitted */ }

  @Override
  public Object eGet(int featureID, boolean resolve, boolean coreType)
  { /* omitted */ }

  @Override
  public void eSet(int featureID, Object newValue)
  { /* omitted */ }

  @Override
  public void eUnset(int featureID)
  { /* omitted */ }

  @Override
  public boolean eIsSet(int featureID)
  { /* omitted */ }

  @Override
  public String toString()
  { /* omitted */ }

} // VideoRental
# Task
You will be given a **Java Class** generated from an Ecore model by EMF code generator with `suppressInterfaces=true`. Your task is to implement the Java methods unimplemented by taking additional **Context** information into account.

Complete this task by following the guidelines below.
1. A method is unimplemented if its body contains `// TODO: Please complete this Java method based on the docstring`.
2. For every unimplemented method, 
  2.1 You must read the docstring of this method. The fragment between `<!-- begin-model-doc -->` and `<!-- end-model-doc -->` contains the method specification;
  2.2 Generate your code strictly according to the algorithm; Be aware of the EMF code style and APIs; Note that the getter of a boolean attribute `bv` looks like `isBv()`, e.g., `isIsTrue()` for `isTrue`;
  2.3 You should not change the method signature;
  2.4 After generation, replace the current body with the one you generate;
  2.5 Keep and update the docstring by changing `@generated` to `@generated NOT`.
3. Check the import list. Add missing imports if needed. Collection types provided by EMF is listed below
  - BasicEList: `org.eclipse.emf.common.util.BasicEList`;
4. Do not change other part.
5. Be aware of the method signatures, particularly, the input and output types, provided in the **Context**.

# Java Class
```java
/**
 * generated by Enhanced EcoreGen
 */
package edu.videorental;

import java.util.Collection;
import java.util.Date;

import org.eclipse.emf.common.notify.Notification;
import org.eclipse.emf.common.notify.NotificationChain;

import org.eclipse.emf.common.util.EList;

import org.eclipse.emf.ecore.EClass;
import org.eclipse.emf.ecore.EObject;
import org.eclipse.emf.ecore.InternalEObject;

import org.eclipse.emf.ecore.impl.ENotificationImpl;
import org.eclipse.emf.ecore.impl.MinimalEObjectImpl;

import org.eclipse.emf.ecore.util.EObjectWithInverseResolvingEList;
import org.eclipse.emf.ecore.util.InternalEList;

/**
 * <!-- begin-user-doc -->
 * A representation of the model object '<em><b>Rental Transaction</b></em>'.
 * <!-- end-user-doc -->
 *
 * <p>
 * The following features are supported:
 * </p>
 * <ul>
 *   <li>{@link edu.videorental.RentalTransaction#getRentalDate <em>Rental Date</em>}</li>
 *   <li>{@link edu.videorental.RentalTransaction#getTotalPrice <em>Total Price</em>}</li>
 *   <li>{@link edu.videorental.RentalTransaction#getRentals <em>Rentals</em>}</li>
 *   <li>{@link edu.videorental.RentalTransaction#getCustomer <em>Customer</em>}</li>
 * </ul>
 *
 * @see edu.videorental.VideorentalPackage#getRentalTransaction()
 * @model kind="class"
 * @generated
 */
public class RentalTransaction extends MinimalEObjectImpl.Container implements EObject
{
  protected static final Date RENTAL_DATE_EDEFAULT = null;

  protected Date rentalDate = RENTAL_DATE_EDEFAULT;

  protected static final double TOTAL_PRICE_EDEFAULT = 0.0;

  protected double totalPrice = TOTAL_PRICE_EDEFAULT;

  protected EList<VideoRental> rentals;

  protected Customer customer;

  protected RentalTransaction()
  { ... /* omitted */ }

  @Override
  protected EClass eStaticClass()
  { ... /* omitted */ }

  public Date getRentalDate()
  { ... /* omitted */ }

  public void setRentalDate(Date newRentalDate)
  { ... /* omitted */ }

  public double getTotalPrice()
  { ... /* omitted */ }

  public void setTotalPrice(double newTotalPrice)
  { ... /* omitted */ }

  public EList<VideoRental> getRentals()
  { ... /* omitted */ }

  public Customer getCustomer()
  { ... /* omitted */ }

  public Customer basicGetCustomer()
  { ... /* omitted */ }

  public NotificationChain basicSetCustomer(Customer newCustomer, NotificationChain msgs)
  { ... /* omitted */ }

  public void setCustomer(Customer newCustomer)
  { ... /* omitted */ }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Calculates the total price for a customer's rental transaction, including base rental fees and overdue fees.
   * Algorithm:
   * 1. Iterate through all VideoRental instances associated with the RentalTransaction.
   * 2. For each VideoRental, calculate the base rental fee using the calculateBaseRentalFee method and the overdue fee using the calculateOwnedPastDueAmount method.
   * 3. Sum up the total price for all VideoRental instances.
   * Input:
   *   - currentDate: The current date used for calculating overdue fees.
   *     - Meaning: The date against which overdue fees are calculated.
   *     - Format: EDate object.
   *   - rentalDate: The date when the rental transaction occurred.
   *     - Meaning: The date when the rental transaction was initiated.
   *     - Format: EDate object.
   * Output:
   *   - double: The total price for the rental transaction, rounded to two decimal places.
   *     - Meaning: The total cost of the rental transaction.
   * Pre-condition: The RentalTransaction object is valid and has associated VideoRental instances.
   * Post-condition: The total price for the rental transaction is calculated and returned.
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated
   */
  public double calculateTotalPrice(final Date currentDate, final Date rentalDate)
  {
    // TODO: Please generate a body of this unimplemented method based on the docstring
    // TODO: Replace the current body with the generated body 
    // TODO: Ensure that you mark it @generated NOT after code completion
    throw new UnsupportedOperationException();
    
  }

  @SuppressWarnings("unchecked")
  @Override
  public NotificationChain eInverseAdd(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public NotificationChain eInverseRemove(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { ... /* omitted */ }

  @Override
  public Object eGet(int featureID, boolean resolve, boolean coreType)
  { ... /* omitted */ }

  @SuppressWarnings("unchecked")
  @Override
  public void eSet(int featureID, Object newValue)
  { ... /* omitted */ }

  @Override
  public void eUnset(int featureID)
  { ... /* omitted */ }

  @Override
  public boolean eIsSet(int featureID)
  { ... /* omitted */ }

  @Override
  public String toString()
  { ... /* omitted */ }

} // RentalTransaction
```

# Context
The following classes' information may be helpful for you. **DO NOT** call methods that are not listed.
- Class `VideoRental` contains the following methods.
  + Instance creation: Use `VideorentalFactory.eINSTANCE.createVideoRental()`
  + Public methods: public double calculateOwnedPastDueAmount(final Date currentDate), public double calculateBaseRentalFee(final Date currentDate)
  + Getter methods: public Date getDueDate(), public Date getReturnDate(), public double getOwnedPastDueAmount(), public Tape getTape(), public Customer getCustomer(), public RentalTransaction getTransaction()
  + Setter methods: public void setDueDate(Date newDueDate), public void setReturnDate(Date newReturnDate), public void setOwnedPastDueAmount(double newOwnedPastDueAmount), public void setTape(Tape newTape), public void setCustomer(Customer newCustomer), public void setTransaction(RentalTransaction newTransaction)
- Class `Customer` contains the following methods.
  + Instance creation: Use `VideorentalFactory.eINSTANCE.createCustomer()`
  + Public methods: public boolean addVedioTapeRental(final Tape tape, final Date currentDate), public EList<Tape> getUnreturnedTapes(), public double calculateTotalPastDueAmount(final Date currentDate)
  + Getter methods: public String getId(), public EList<VideoRental> getRentals(), public EList<RentalTransaction> getTransactions()
  + Setter methods: public void setId(String newId)

# Output Format
Put the new Java class code into a single block as follows.

```java
(completed Java class)
```

generated code:
/**
 * generated by Enhanced EcoreGen
 */
package edu.videorental;

import java.util.Collection;
import java.util.Date;

import org.eclipse.emf.common.notify.Notification;
import org.eclipse.emf.common.notify.NotificationChain;

import org.eclipse.emf.common.util.EList;

import org.eclipse.emf.ecore.EClass;
import org.eclipse.emf.ecore.EObject;
import org.eclipse.emf.ecore.InternalEObject;

import org.eclipse.emf.ecore.impl.ENotificationImpl;
import org.eclipse.emf.ecore.impl.MinimalEObjectImpl;

import org.eclipse.emf.ecore.util.EObjectWithInverseResolvingEList;
import org.eclipse.emf.ecore.util.InternalEList;

/**
 * <!-- begin-user-doc -->
 * A representation of the model object '<em><b>Rental Transaction</b></em>'.
 * <!-- end-user-doc -->
 *
 * <p>
 * The following features are supported:
 * </p>
 * <ul>
 *   <li>{@link edu.videorental.RentalTransaction#getRentalDate <em>Rental Date</em>}</li>
 *   <li>{@link edu.videorental.RentalTransaction#getTotalPrice <em>Total Price</em>}</li>
 *   <li>{@link edu.videorental.RentalTransaction#getRentals <em>Rentals</em>}</li>
 *   <li>{@link edu.videorental.RentalTransaction#getCustomer <em>Customer</em>}</li>
 * </ul>
 *
 * @see edu.videorental.VideorentalPackage#getRentalTransaction()
 * @model kind="class"
 * @generated
 */
public class RentalTransaction extends MinimalEObjectImpl.Container implements EObject
{
  protected static final Date RENTAL_DATE_EDEFAULT = null;

  protected Date rentalDate = RENTAL_DATE_EDEFAULT;

  protected static final double TOTAL_PRICE_EDEFAULT = 0.0;

  protected double totalPrice = TOTAL_PRICE_EDEFAULT;

  protected EList<VideoRental> rentals;

  protected Customer customer;

  protected RentalTransaction()
  { /* omitted */ }

  @Override
  protected EClass eStaticClass()
  { /* omitted */ }

  public Date getRentalDate()
  { /* omitted */ }

  public void setRentalDate(Date newRentalDate)
  { /* omitted */ }

  public double getTotalPrice()
  { /* omitted */ }

  public void setTotalPrice(double newTotalPrice)
  { /* omitted */ }

  public EList<VideoRental> getRentals()
  { /* omitted */ }

  public Customer getCustomer()
  { /* omitted */ }

  public Customer basicGetCustomer()
  { /* omitted */ }

  public NotificationChain basicSetCustomer(Customer newCustomer, NotificationChain msgs)
  { /* omitted */ }

  public void setCustomer(Customer newCustomer)
  { /* omitted */ }

  /**
   * <!-- begin-user-doc -->
   * <!-- end-user-doc -->
   * <!-- begin-model-doc -->
   * Summary: Calculates the total price for a customer's rental transaction, including base rental fees and overdue fees.
   * Algorithm:
   * 1. Iterate through all VideoRental instances associated with the RentalTransaction.
   * 2. For each VideoRental, calculate the base rental fee using the calculateBaseRentalFee method and the overdue fee using the calculateOwnedPastDueAmount method.
   * 3. Sum up the total price for all VideoRental instances.
   * Input:
   *   - currentDate: The current date used for calculating overdue fees.
   *     - Meaning: The date against which overdue fees are calculated.
   *     - Format: EDate object.
   *   - rentalDate: The date when the rental transaction occurred.
   *     - Meaning: The date when the rental transaction was initiated.
   *     - Format: EDate object.
   * Output:
   *   - double: The total price for the rental transaction, rounded to two decimal places.
   *     - Meaning: The total cost of the rental transaction.
   * Pre-condition: The RentalTransaction object is valid and has associated VideoRental instances.
   * Post-condition: The total price for the rental transaction is calculated and returned.
   * <!-- end-model-doc -->
   * @model annotation="http://www.ustb.edu.cn/sei/mde/EnhancedCodeGen generated='true'"
   * @generated NOT
   */
  public double calculateTotalPrice(final Date currentDate, final Date rentalDate)
  {
    double totalPrice = 0.0;
    for (VideoRental videoRental : getRentals()) {
      totalPrice += videoRental.calculateBaseRentalFee(rentalDate);
      totalPrice += videoRental.calculateOwnedPastDueAmount(currentDate);
    }
    return Math.round(totalPrice * 100.0) / 100.0;
  }

  @SuppressWarnings("unchecked")
  @Override
  public NotificationChain eInverseAdd(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { /* omitted */ }

  @Override
  public NotificationChain eInverseRemove(InternalEObject otherEnd, int featureID, NotificationChain msgs)
  { /* omitted */ }

  @Override
  public Object eGet(int featureID, boolean resolve, boolean coreType)
  { /* omitted */ }

  @SuppressWarnings("unchecked")
  @Override
  public void eSet(int featureID, Object newValue)
  { /* omitted */ }

  @Override
  public void eUnset(int featureID)
  { /* omitted */ }

  @Override
  public boolean eIsSet(int featureID)
  { /* omitted */ }

  @Override
  public String toString()
  { /* omitted */ }

} // RentalTransaction
690345 [main] INFO  du.ustb.sei.mde.mwe2.EcoreGenerator  - BatchCompiler -11 -d ../VideoRental/src-gen/../llm-bin -classpath "C:/Users/20936/.p2/pool/plugins/org.eclipse.emf.ecore_2.40.0.v20250803-1633.jar;C:/Users/20936/.p2/pool/plugins/org.eclipse.emf.common_2.43.0.v20250629-1403.jar" ../VideoRental/src-gen/edu/videorental/
690456 [main] INFO  du.ustb.sei.mde.mwe2.EcoreGenerator  - 
690456 [main] ERROR du.ustb.sei.mde.mwe2.EcoreGenerator  - ----------
1. WARNING in D:\EclipseWorkspace\VideoRental\src-gen\edu\videorental\Customer.java (at line 25)
	import edu.videorental.VideorentalFactory;
	       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
The import edu.videorental.VideorentalFactory is never used
----------
2. WARNING in D:\EclipseWorkspace\VideoRental\src-gen\edu\videorental\Customer.java (at line 26)
	import org.eclipse.emf.common.util.BasicEList;
	       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
The import org.eclipse.emf.common.util.BasicEList is never used
----------
3. WARNING in D:\EclipseWorkspace\VideoRental\src-gen\edu\videorental\Customer.java (at line 27)
	import edu.videorental.VideorentalFactory;
	       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
The import edu.videorental.VideorentalFactory is never used
----------
3 problems (3 warnings)

690456 [main] INFO  du.ustb.sei.mde.mwe2.EcoreGenerator  - There is more compilation error
690457 [main] INFO  du.ustb.sei.mde.mwe2.EcoreGenerator  - Generating common infrastructure
690458 [main] INFO  .emf.mwe2.runtime.workflow.Workflow  - Done.
sample5.mwe2 启动完成
正在拷贝 src-gen/edu/videorental 到 llama-4-maverick/videorental5...
拷贝完成！

======================================
所有任务完成！
======================================
