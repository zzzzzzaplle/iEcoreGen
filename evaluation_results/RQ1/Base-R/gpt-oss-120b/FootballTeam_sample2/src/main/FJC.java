import java.util.ArrayList;
import java.util.List;

/**
 * Enumeration of possible player positions on the football field.
 */
enum Position {
    /** Player who attacks and tries to score goals. */
    FORWARD,
    /** Player who distributes the ball in the midfield area. */
    MIDFIELDER,
    /** Player who protects the goal and tries to save shots. */
    GOALKEEPER,
    /** Any other defensive player (not used for announcements). */
    DEFENSE
}

/**
 * Represents a generic football player. Concrete behavior for scoring goals
 * or saving shots is handled by the specific position types.
 */
class FootballPlayer {

    /** Name of the team the player belongs to. */
    private String team;
    /** Player's full name. */
    private String name;
    /** Player's age in years. */
    private int age;
    /** Player's jersey number. */
    private int number;
    /** Position of the player on the field. */
    private Position position;

    /** Number of goal‑scoring announcements generated by this player (relevant for forwards). */
    private int goalAnnouncements;
    /** Number of goal‑saving announcements generated by this player (relevant for goalkeepers). */
    private int saveAnnouncements;

    /** Unparameterized constructor required by the specification. */
    public FootballPlayer() {
        // default values
        this.team = "";
        this.name = "";
        this.age = 0;
        this.number = 0;
        this.position = Position.DEFENSE;
        this.goalAnnouncements = 0;
        this.saveAnnouncements = 0;
    }

    /* -------------------- Getters & Setters -------------------- */

    public String getTeam() {
        return team;
    }

    public void setTeam(String team) {
        this.team = team;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    public int getNumber() {
        return number;
    }

    public void setNumber(int number) {
        this.number = number;
    }

    public Position getPosition() {
        return position;
    }

    public void setPosition(Position position) {
        this.position = position;
    }

    public int getGoalAnnouncements() {
        return goalAnnouncements;
    }

    public void setGoalAnnouncements(int goalAnnouncements) {
        this.goalAnnouncements = goalAnnouncements;
    }

    public int getSaveAnnouncements() {
        return saveAnnouncements;
    }

    public void setSaveAnnouncements(int saveAnnouncements) {
        this.saveAnnouncements = saveAnnouncements;
    }

    /* -------------------- Behaviour -------------------- */

    /**
     * Called when a forward scores a goal. Increments the internal counter
     * and prints the required announcement.
     *
     * @throws IllegalStateException if the player is not a forward.
     */
    public void scoreGoal() {
        if (position != Position.FORWARD) {
            throw new IllegalStateException("Only forwards can score goals.");
        }
        goalAnnouncements++;
        System.out.println("Goal scored! Player No: " + number + ", Name: " + name);
    }

    /**
     * Called when a goalkeeper saves a shot. Increments the internal counter
     * and prints the required announcement.
     *
     * @throws IllegalStateException if the player is not a goalkeeper.
     */
    public void saveGoal() {
        if (position != Position.GOALKEEPER) {
            throw new IllegalStateException("Only goalkeepers can save goals.");
        }
        saveAnnouncements++;
        System.out.println("Goal saved! Player No: " + number + ", Name: " + name);
    }
}

/**
 * Represents a football team, containing players, a starting eleven and a spare team.
 * Provides methods that fulfil the functional requirements described in the specification.
 */
class FootballTeam {

    /** Name of the team. */
    private String name;

    /** All players that belong to the team. */
    private List<FootballPlayer> players;

    /** The eleven players that start the match. */
    private List<FootballPlayer> startingEleven;

    /** Players that are on the reserve (spare) team. */
    private List<FootballPlayer> spareTeam;

    /** Unparameterized constructor required by the specification. */
    public FootballTeam() {
        this.name = "";
        this.players = new ArrayList<>();
        this.startingEleven = new ArrayList<>();
        this.spareTeam = new ArrayList<>();
    }

    /* -------------------- Getters & Setters -------------------- */

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

   public List<FootballPlayer> getPlayers() {
        return players;
    }

    public void setPlayers(List<FootballPlayer> players) {
        this.players = players;
    }

    public List<FootballPlayer> getStartingEleven() {
        return startingEleven;
    }

    public void setStartingEleven(List<FootballPlayer> startingEleven) {
        this.startingEleven = startingEleven;
    }

    public List<FootballPlayer> getSpareTeam() {
        return spareTeam;
    }

    public void setSpareTeam(List<FootballPlayer> spareTeam) {
        this.spareTeam = spareTeam;
    }

    /* -------------------- Helper Methods -------------------- */

    /**
     * Adds a player to the team-wide player list.
     *
     * @param player the player to add; must not be {@code null}
     */
    public void addPlayer(FootballPlayer player) {
        if (player != null) {
            players.add(player);
        }
    }

    /**
     * Adds a player to the starting eleven list.
     *
     * @param player the player to add; must not be {@code null}
     */
    public void addToStartingEleven(FootballPlayer player) {
        if (player != null) {
            startingEleven.add(player);
        }
    }

    /**
     * Adds a player to the spare team list.
     *
     * @param player the player to add; must not be {@code null}
     */
    public void addToSpareTeam(FootballPlayer player) {
        if (player != null) {
            spareTeam.add(player);
        }
    }

    /* -------------------- Functional Requirements -------------------- */

    /**
     * Calculates the total number of goal‑scoring announcements generated by the
     * starting eleven players of this team. Only forwards contribute to the count.
     *
     * @return total count of goal‑scoring announcements for the starting eleven.
     */
    public int totalGoalScoringAnnouncementsForStartingEleven() {
        int total = 0;
        for (FootballPlayer player : startingEleven) {
            if (player.getPosition() == Position.FORWARD) {
                total += player.getGoalAnnouncements();
            }
        }
        return total;
    }

    /**
     * Finds the midfielder with the highest jersey number among all players of the team.
     *
     * @return the midfielder player having the greatest number, or {@code null}
     *         if the team has no midfielders.
     */
    public FootballPlayer midfielderWithHighestNumber() {
        FootballPlayer highest = null;
        for (FootballPlayer player : players) {
            if (player.getPosition() == Position.MIDFIELDER) {
                if (highest == null || player.getNumber() > highest.getNumber()) {
                    highest = player;
                }
            }
        }
        return highest;
    }

    /**
     * Computes the average age of the spare team players.
     *
     * @return average age as a {@code double}; returns {@code 0.0} if the spare team is empty.
     */
    public double averageAgeOfSpareTeam() {
        if (spareTeam.isEmpty()) {
            return 0.0;
        }
        int sum = 0;
        for (FootballPlayer player : spareTeam) {
            sum += player.getAge();
        }
        return (double) sum / spareTeam.size();
    }

    /**
     * Counts the total number of goal‑saving announcements made by all goalkeepers in the team.
     *
     * @return the sum of save announcements for all goalkeepers; {@code 0} if none exist.
     */
    public int totalGoalSavingAnnouncements() {
        int total = 0;
        for (FootballPlayer player : players) {
            if (player.getPosition() == Position.GOALKEEPER) {
                total += player.getSaveAnnouncements();
            }
        }
        return total;
    }

    /**
     * Calculates the total number of announcements made by all forwards on the team.
     * This includes only goal‑scoring announcements.
     *
     * @return total forward announcements; {@code 0} if there are no forwards or no announcements.
     */
    public int totalAnnouncementsByAllForwards() {
        int total = 0;
        for (FootballPlayer player : players) {
            if (player.getPosition() == Position.FORWARD) {
                total += player.getGoalAnnouncements();
            }
        }
        return total;
    }
}